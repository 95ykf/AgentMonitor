{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/create.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-own-property-descriptor.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-prototype-of.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/keys.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/set-prototype-of.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/promise.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol/iterator.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/defineProperty.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/get.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/inherits.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/possibleConstructorReturn.js","webpack://[name]/./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/json/stringify.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/create.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/define-property.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/get-own-property-descriptor.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/get-prototype-of.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/keys.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/object/set-prototype-of.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/promise.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/symbol/index.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/fn/symbol/iterator.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_a-function.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_add-to-unscopables.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_an-instance.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_an-object.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_array-includes.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_classof.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_cof.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_core.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_ctx.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_defined.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_descriptors.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_dom-create.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_enum-bug-keys.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_enum-keys.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_export.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_fails.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_for-of.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_global.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_has.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_hide.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_html.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_ie8-dom-define.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_invoke.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iobject.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_is-array-iter.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_is-array.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_is-object.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iter-call.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iter-create.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iter-define.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iter-detect.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iter-step.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_iterators.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_library.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_meta.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_microtask.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_new-promise-capability.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-create.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-dp.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-dps.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-gopd.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-gopn-ext.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-gopn.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-gops.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-gpo.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-keys-internal.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-keys.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-pie.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_object-sap.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_perform.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_promise-resolve.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_property-desc.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_redefine-all.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_redefine.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_set-proto.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_set-species.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_set-to-string-tag.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_shared-key.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_shared.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_species-constructor.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_string-at.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_task.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-absolute-index.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-integer.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-iobject.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-length.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-object.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_to-primitive.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_uid.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_user-agent.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_wks-define.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_wks-ext.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/_wks.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/core.get-iterator-method.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.array.iterator.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.create.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.define-property.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.get-prototype-of.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.keys.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.set-prototype-of.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.promise.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.string.iterator.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es6.symbol.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es7.promise.finally.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es7.promise.try.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es7.symbol.async-iterator.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/es7.symbol.observable.js","webpack://[name]/./node_modules/_core-js@2.6.9@core-js/library/modules/web.dom.iterable.js","webpack://[name]/./node_modules/_eventemitter3@3.1.2@eventemitter3/index.js","webpack://[name]/./src/AgentApi.js","webpack://[name]/./src/CTIConnection.js","webpack://[name]/./src/SoftPhoneConnection.js","webpack://[name]/./src/WebSocketBaseClient.js","webpack://[name]/./src/assets/js/ie9.js","webpack://[name]/./src/assets/js/reconnecting-websocket.js","webpack://[name]/./src/constants/AgentState.js","webpack://[name]/./src/constants/CallType.js","webpack://[name]/./src/constants/DeviceState.js","webpack://[name]/./src/constants/LineState.js","webpack://[name]/./src/constants/MessageID.js","webpack://[name]/./src/constants/NotReadyReason.js","webpack://[name]/./src/constants/PartyRole.js","webpack://[name]/./src/constants/PartyState.js","webpack://[name]/./src/constants/index.js","webpack://[name]/./src/css/common.css?630a","webpack://[name]/./src/css/dialog.css?17cf","webpack://[name]/./src/css/dialpad.css?62e4","webpack://[name]/./src/css/phonebar.css?21dc","webpack://[name]/./src/index.js","webpack://[name]/./src/model/Agent.js","webpack://[name]/./src/model/AgentConfig.js","webpack://[name]/./src/model/Line.js","webpack://[name]/./src/model/LinePool.js","webpack://[name]/./src/model/Timer.js","webpack://[name]/./src/utils/Ajax.js","webpack://[name]/./src/utils/Log.js","webpack://[name]/./src/utils/utils.js","webpack://[name]/./src/view/AgentStateMenu.js","webpack://[name]/./src/view/DialPad.js","webpack://[name]/./src/view/Dialog.js","webpack://[name]/./src/view/MultilevelMenu.js","webpack://[name]/./src/view/PhoneBarButton.js","webpack://[name]/./src/view/PhoneBarComponent.js","webpack://[name]/./src/view/ThreewayCallBox.js"],"names":["AgentApi","agent","agentConfig","linePool","connection","data","thisDN","send","isPhoneTakeAlong","agentID","thisQueues","reasonCode","state","Agent","OFFLINE","utils","showMessage","dest","id","type","module","call_id","queue","newTransPara","taskId","numberId","length","charAt","indexOf","tid","deviceState","DeviceState","UNREGISTERED","READY","agentNotReady","getWorkingLineCount","checkPhoneNumber","trim","line","getCurrentLine","lineState","LineState","RINGING","DIALING","callId","TALKING","HELD","lines","forEach","otherLine","IDLE","releaseCall","lineId","getCurrentLineId","getLine","targetDN","callType","CallType","INBOUND","OUTBOUND","ORDERCALLBACK","MANUALCALLBACK","PREDICT","PREVIEW","consultLine","getConsultLine","phoneNumber","thisExten","substring","THREEWAY","agentDNs","MessageID","RequestMonitorAgentList","CTIConnection","wsUrl","automaticOpen","agentApi","_loginTimeout","loggedIn","window","setTimeout","defaultQueue","sendMessage","message","isOpened","stopKeepAlive","close","lToken","Log","log","event","startKeepAlive","autoIdleWhenLogin","REGISTERED","BUSY","agentReady","JSON","parse","messageId","EventWelcome","EventPong","login","EventAgentLogin","clearTimeout","EventAgentReady","agentLogout","emit","toString","EventAgentNotReady","setAgentState","convertToLocalState","setDeviceState","EventAgentLogout","Ajax","url","EventDialing","EventRinging","EventEstablished","EventReleased","EventHeld","EventRetrieved","EventAbandoned","updateLineDate","EventError","errorMessage","EventLinkDisconnected","reason","WebSocketBaseClient","SoftPhoneConnection","urls","protocols","serverUrl","username","password","pingInterval","wsInfo","map","v","i","currentWS","sessionid","pingcount","pingTimeHandler","open","len","enabled","path","getFirstEnabledWSInfo","WebSocket","onopen","aEvent","onOpen","onclose","onDisconnected","onmessage","onMessage","onerror","onError","ws","console","doLogin","stopPing","token","action","user","result","sid","startPing","getWSInfoByPath","currentTarget","readyState","OPEN","msg","addr","sendPing","EventEmitter","keepAliveInterval","debug","status","ReconnectingWebSocket","onClose","aToken","immediate","keepAliveTimeout","ping","setInterval","clearInterval","undefined","document","documentElement","Object","defineProperty","HTMLElement","prototype","get","self","update","fn","value","classes","className","split","index","join","add","push","remove","splice","toggle","contains","item","global","factory","define","options","settings","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","CONNECTING","protocol","forcedClose","timedOut","eventTarget","createElement","addEventListener","onconnecting","bind","removeEventListener","dispatchEvent","generateEvent","s","args","evt","createEvent","initCustomEvent","reconnectAttempt","debugAll","localWs","timeout","e","isReconnect","CLOSED","code","wasClean","Math","pow","refresh","CLOSING","AgentState","NOTREADY","UNKNOWN","INTERNAL","CONSULT","WEBCALL","MONITOR","dict","RequestAgentLogin","RequestAgentReady","RequestAgentNotReady","RequestAgentLogout","RequestMakeCall","RequestAnswerCall","RequestReleaseCall","RequestHoldCall","RequestRedirectCall","RequestClearCall","RequestSingleStepConference","RequestSingleStepTransfer","RequestDeleteFromConference","RequestRetrieveCall","RequestInitiateConference","RequestInitiateTransfer","RequestCompleteConference","RequestCompleteTransfer","RequestTransferToIVR","RequestSendDtmf","RequestAttachUserData","RequestDeleteUserData","RequestUpdateUserData","RequestRegisterAddress","RequestUnregisterAddress","RequestMonitorCall","RequestQueryAgentStatus","RequestQueueState","RequestSysSettingsUpdate","RequestRecordList","EventQueued","EventAttachedDataChanged","EventDtmfSent","EventPartyAdded","EventPartyChanged","EventPartyDeleted","EventThreeWayEstablished","EventThreeWayReleased","EventOcbNumberInfo","EventPartyInfo","EventSysSettingsUpdate","EventAgentInfo","EventRegistered","EventUnregistered","EventLinkConnected","EventReportInfo","EventCampaignLoaded","EventCampaignUnloaded","EventDialingStarted","EventDialingStopped","EventUpdateTenantIP","EventCampaignRatio","EventOutboundInfo","EventCampaignLoadByFileName","EventRetrieveCampaign","EventCallLoss","EventCallLossDownCSV","EventCampaignContactDownCSV","EventCampaignLoadByCId","EventDownRecord","EventRecordList","EventTransferMenuList","EventConferenceMenuList","EventMonitorAgentList","NotReadyReason","NEATENING","DEVICE_UNAVAILABLE","WALK_AWAY","RESTING","PartyRole","ORIGINATION","DESTINATION","OBSERVER","OBSERVABLE","PartyState","TALK","PhoneBar","renderTo","proxyUrl","startupSoftPhone","sipServerUrl","pstnDN","tipTime","maxAfterWorkTime","workPhone","autoAnswer","onScreenPopup","onRinging","onTalking","onHangup","onAgentStatusChange","onLinkDisconnected","arguments","LinePool","AgentConfig","softPhoneConnection","phoneBarComponent","PhoneBarComponent","getComponent","on","_onAgentStateSelected","_showDialPad","btnName","onDynamicButtonClick","makeCall","answerCall","holdCall","retrieveCall","onTransferItemClick","completeTransfer","onConferenceItemClick","threewayCallData","isFunction","eventHandler","initial","otherDN","callID","threewayCallBox","filter","updateTransferMenu","menuList","updateConferenceMenu","stateTimer","seconds","timerValue","setAgentStateTimer","_tipTime","timeTips","getCurrentStateName","format","_maxAfterWorkTime","changeAgentState","changeButtonWhenReady","changeButtonWhenNotReady","changeButtonWhenLogout","changeButtonSipNG","changeButtonSipOK","callInfo","changeButtonWhenIdle","changeButtonWhenDialing","changeButtonWhenRinging","changeButtonWhenHold","changeButtonWhenTalking","partyState","thisRole","otherRole","isExistLineByCallType","changeButtonWhenDouble","changeButtonWhenDoubleCalled","sendBy","thirdDN","changeButtonWhenDoubleDiscon","changeButtonWhenCustomerDiscon","setCurrentLineId","attachDatas","_rootNode","rootNode","body","appendChild","getElementById","show","componentName","getButtonComponent","agentLogin","dialPad","getPhoneNumber","transferComponent","val","menu","updateMenuData","contacts","_transferThis","consult","agentId","ivrId","singleStepTransfer","conferenceComponent","threeWayCall","_showThreewayCallBox","dynamicButton","title","innerText","setPhoneNumber","ThreewayCallBox","onJoinButtonClick","onRemoveCallButtonClick","releaseThreeWayCall","onRemoveAllCallButtonClick","callData","destroy","DialPad","createButton","onClick","parentNode","removeChild","doClose","_tid","_thisDN","_pstnDN","_agentID","_thisQueues","_defaultQueue","_state","_deviceState","Timer","start","beforeValue","restart","getStateName","stateDict","name","rawState","_autoIdleWhenLogin","_isPhoneTakeAlong","_workPhone","_autoAnswer","Line","_lineState","_phoneNumber","_callType","_callId","_parties","_id","maxLines","_maxLines","_lineId","_lines","Array","init","checkLineId","getLineByState","workingLineCount","parseCallInfo","getLineByCallId","getIdleLine","reset","parties","creationTime","querue","thisQueue","dnis","callSid","auuid","cityCode","startTime","Date","getTime","unexecutedTimeouts","_clearUnexecutedTimeouts","offset","nextTime","stop","unexecuted","separator","secondTime","minuteTime","hourTime","floor","getXHR","XMLHttpRequest","versions","ActiveXObject","ex","xhr","opt","async","dataType","parseParam","resolve","reject","onreadystatechange","contentType","getResponseHeader","responseText","Error","setRequestHeader","info","error","alert","num","validNumber","c","param","paramArray","encodeURIComponent","f","firstUpperCase","str","replace","toUpperCase","autoIncrementId","AgentStateMenu","visible","onAgentStateSelected","_selectedState","_className","_textClassName","_openClassName","actionList","_visible","_enabled","_disabledClassName","create","generateIconNode","generateTextNode","_generateDropdownMenuNode","hide","onclick","_toggleDropdownMenu","onBodyClick","_hideDropdownMenu","iconNode","agentStateIcon","textNode","agentStateText","agentStateTimer","_dropdownMenuNode","style","display","_actionElementMap","icon","textSpan","classList","stopPropagation","timeValue","removeAllListeners","onHangupButtonClick","_contacts","setContent","_generateContentNode","contentNode","onselectstart","_generateContactSelectNode","_generatePhoneNumberNode","_generateNumberPadNode","_generateCallControllerNode","contactSelectNode","_contact","innerHTML","onchange","phoneNumberParentNode","phoneNumberNode","phoneNumberTextField","_phoneNumberTextField","slideDialPadBtn","toggleExpandNumberPad","numberPadNode","phoneNmuber","keyButton","_onKeyClick","number","ctlBtnNode","removeButton","substr","ondblclick","hangupButton","tagName","button","Dialog","rootNodeClassName","_title","diffX","diffY","_generateTitleNode","_generateWindowControllerNode","titleNode","_titleNode","mouseHandler","ctlWinNode","closeBtn","href","draggingObj","target","offsetParent","clientX","offsetLeft","clientY","offsetTop","titleMouseMoveHandler","titleMouseUpHandler","left","top","content","String","MultilevelMenu","iconClassName","menuData","onItemClick","_toggleMenu","_hideMenu","onmouseleave","generateMenu","menuNode","generateSubMenu","fragment","createDocumentFragment","subMenu","onmouseenter","PhoneBarButton","textClassName","_iconClassName","emptyFunction","_rootNodeClassName","buttonList","sort","a","b","component","buttonName","disable","enable","phoneMap","box","thirdPhoneNumberNode","labelNode","joinBtn","checkbox","createTextNode","phoneNode","leftBtnsNode","checkAllLabel","checkAllButton","_checkAllButton","checked","firstElementChild","rightBtnsNode","removeSelectedButton","removeAllButton","closeButton"],"mappings":"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AAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACrBA;AACA,UAAU;AACV;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA,WAAW,mBAAO,CAAC,6EAAQ;AAC3B,eAAe,mBAAO,CAAC,yFAAc;AACrC,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,cAAc,mBAAO,CAAC,yFAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,iFAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA,aAAa,mBAAO,CAAC,mFAAW;AAChC,gBAAgB,mBAAO,CAAC,+EAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6EAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpEa;AACb;AACA,gBAAgB,mBAAO,CAAC,2FAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjBA;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC,UAAU,mBAAO,CAAC,2FAAe;AACjC,kBAAkB,mBAAO,CAAC,iGAAkB;AAC5C,eAAe,mBAAO,CAAC,2FAAe;AACtC,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,2FAAe;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,+EAAS;AACnB,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACxCA,eAAe,mBAAO,CAAC,yFAAc;AACrC,qBAAqB,mBAAO,CAAC,mGAAmB;AAChD,kBAAkB,mBAAO,CAAC,+FAAiB;AAC3C;;AAEA,YAAY,mBAAO,CAAC,6FAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;;;;;ACfA,SAAS,mBAAO,CAAC,yFAAc;AAC/B,eAAe,mBAAO,CAAC,yFAAc;AACrC,cAAc,mBAAO,CAAC,6FAAgB;;AAEtC,iBAAiB,mBAAO,CAAC,6FAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,2FAAe;AACjC,iBAAiB,mBAAO,CAAC,iGAAkB;AAC3C,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,kBAAkB,mBAAO,CAAC,+FAAiB;AAC3C,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,qBAAqB,mBAAO,CAAC,mGAAmB;AAChD;;AAEA,YAAY,mBAAO,CAAC,6FAAgB;AACpC;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACfA;AACA,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,WAAW,mBAAO,CAAC,6FAAgB;AACnC,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AClBA;AACA,YAAY,mBAAO,CAAC,+GAAyB;AAC7C,iBAAiB,mBAAO,CAAC,iGAAkB;;AAE3C;AACA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;ACAA;AACA,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,eAAe,mBAAO,CAAC,yFAAc;AACrC,eAAe,mBAAO,CAAC,2FAAe;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,mBAAmB,mBAAO,CAAC,mGAAmB;AAC9C,eAAe,mBAAO,CAAC,2FAAe;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA,YAAY,mBAAO,CAAC,+GAAyB;AAC7C,kBAAkB,mBAAO,CAAC,iGAAkB;;AAE5C;AACA;AACA;;;;;;;;;;;;ACNA,cAAc;;;;;;;;;;;;ACAd;AACA,cAAc,mBAAO,CAAC,mFAAW;AACjC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,YAAY,mBAAO,CAAC,iFAAU;AAC9B;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;;;;;ACTA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;;;;;;ACNA,eAAe,mBAAO,CAAC,yFAAc;AACrC,eAAe,mBAAO,CAAC,yFAAc;AACrC,2BAA2B,mBAAO,CAAC,mHAA2B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA,WAAW,mBAAO,CAAC,+EAAS;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACNA,iBAAiB,mBAAO,CAAC,+EAAS;;;;;;;;;;;;ACAlC;AACA;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC,eAAe,mBAAO,CAAC,yFAAc;AACrC;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,cAAc,mBAAO,CAAC,6EAAQ,iBAAiB,mBAAO,CAAC,6FAAgB;AACvE;AACA;AACA,OAAO,YAAY,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA;;;;;;;;;;;;;ACxBa;AACb,aAAa,mBAAO,CAAC,mFAAW;AAChC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,SAAS,mBAAO,CAAC,yFAAc;AAC/B,kBAAkB,mBAAO,CAAC,6FAAgB;AAC1C,cAAc,mBAAO,CAAC,6EAAQ;;AAE9B;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;;;;;ACbA,UAAU,mBAAO,CAAC,yFAAc;AAChC,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,UAAU,mBAAO,CAAC,6EAAQ;;AAE1B;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;;;;;ACNA,aAAa,mBAAO,CAAC,mFAAW;AAChC,UAAU,mBAAO,CAAC,6EAAQ;AAC1B;AACA;AACA;;;;;;;;;;;;ACJA,WAAW,mBAAO,CAAC,+EAAS;AAC5B,aAAa,mBAAO,CAAC,mFAAW;AAChC;AACA,kDAAkD;;AAElD;AACA,qEAAqE;AACrE,CAAC;AACD;AACA,QAAQ,mBAAO,CAAC,qFAAY;AAC5B;AACA,CAAC;;;;;;;;;;;;ACXD;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,cAAc,mBAAO,CAAC,6EAAQ;AAC9B;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,cAAc,mBAAO,CAAC,qFAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,aAAa,mBAAO,CAAC,mFAAW;AAChC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,UAAU,mBAAO,CAAC,2FAAe;AACjC,aAAa,mBAAO,CAAC,mFAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,6EAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnFA,gBAAgB,mBAAO,CAAC,2FAAe;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,qFAAY;AAClC,cAAc,mBAAO,CAAC,qFAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACLA;AACA,gBAAgB,mBAAO,CAAC,2FAAe;AACvC;AACA;AACA,2DAA2D;AAC3D;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,qFAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACJA;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA,aAAa,mBAAO,CAAC,mFAAW;AAChC;;AAEA;;;;;;;;;;;;ACHA,aAAa,mBAAO,CAAC,mFAAW;AAChC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,cAAc,mBAAO,CAAC,qFAAY;AAClC,aAAa,mBAAO,CAAC,qFAAY;AACjC,qBAAqB,mBAAO,CAAC,yFAAc;AAC3C;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;ACRA,YAAY,mBAAO,CAAC,6EAAQ;;;;;;;;;;;;ACA5B,YAAY,mBAAO,CAAC,mFAAW;AAC/B,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,aAAa,mBAAO,CAAC,mFAAW;AAChC;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACVA,cAAc,mBAAO,CAAC,qFAAY;AAClC,eAAe,mBAAO,CAAC,6EAAQ;AAC/B,gBAAgB,mBAAO,CAAC,yFAAc;AACtC,iBAAiB,mBAAO,CAAC,+EAAS;AAClC;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,uBAAuB,mBAAO,CAAC,2GAAuB;AACtD,WAAW,mBAAO,CAAC,yFAAc;AACjC,gBAAgB,mBAAO,CAAC,yFAAc;AACtC,gBAAgB,mBAAO,CAAC,2FAAe;;AAEvC;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,6FAAgB;AACzC,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjCA,cAAc,mBAAO,CAAC,mFAAW;AACjC;AACA,8BAA8B,SAAS,mBAAO,CAAC,iGAAkB,GAAG;;;;;;;;;;;;ACFpE,cAAc,mBAAO,CAAC,mFAAW;AACjC;AACA,iCAAiC,mBAAO,CAAC,6FAAgB,cAAc,iBAAiB,mBAAO,CAAC,yFAAc,KAAK;;;;;;;;;;;;ACFnH;AACA,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,gCAAgC,mBAAO,CAAC,6FAAgB;;AAExD,mBAAO,CAAC,2FAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC,sBAAsB,mBAAO,CAAC,2FAAe;;AAE7C,mBAAO,CAAC,2FAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA,eAAe,mBAAO,CAAC,yFAAc;AACrC,YAAY,mBAAO,CAAC,6FAAgB;;AAEpC,mBAAO,CAAC,2FAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA,cAAc,mBAAO,CAAC,mFAAW;AACjC,8BAA8B,iBAAiB,mBAAO,CAAC,yFAAc,OAAO;;;;;;;;;;;;;;;;;;;;;;;;ACF/D;AACb,cAAc,mBAAO,CAAC,qFAAY;AAClC,aAAa,mBAAO,CAAC,mFAAW;AAChC,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,cAAc,mBAAO,CAAC,qFAAY;AAClC,cAAc,mBAAO,CAAC,mFAAW;AACjC,eAAe,mBAAO,CAAC,yFAAc;AACrC,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,iBAAiB,mBAAO,CAAC,6FAAgB;AACzC,YAAY,mBAAO,CAAC,mFAAW;AAC/B,yBAAyB,mBAAO,CAAC,6GAAwB;AACzD,WAAW,mBAAO,CAAC,+EAAS;AAC5B,gBAAgB,mBAAO,CAAC,yFAAc;AACtC,iCAAiC,mBAAO,CAAC,mHAA2B;AACpE,cAAc,mBAAO,CAAC,qFAAY;AAClC,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,qBAAqB,mBAAO,CAAC,qGAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,6EAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,+FAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,yGAAsB;AAC9B,mBAAO,CAAC,6FAAgB;AACxB,UAAU,mBAAO,CAAC,+EAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,6FAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC7RY;AACb,UAAU,mBAAO,CAAC,yFAAc;;AAEhC;AACA,mBAAO,CAAC,6FAAgB;AACxB,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;;;;;;;AChBY;AACb;AACA,aAAa,mBAAO,CAAC,mFAAW;AAChC,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,kBAAkB,mBAAO,CAAC,6FAAgB;AAC1C,cAAc,mBAAO,CAAC,mFAAW;AACjC,eAAe,mBAAO,CAAC,uFAAa;AACpC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,aAAa,mBAAO,CAAC,iFAAU;AAC/B,aAAa,mBAAO,CAAC,mFAAW;AAChC,qBAAqB,mBAAO,CAAC,yGAAsB;AACnD,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,UAAU,mBAAO,CAAC,6EAAQ;AAC1B,aAAa,mBAAO,CAAC,qFAAY;AACjC,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,eAAe,mBAAO,CAAC,yFAAc;AACrC,cAAc,mBAAO,CAAC,uFAAa;AACnC,eAAe,mBAAO,CAAC,yFAAc;AACrC,eAAe,mBAAO,CAAC,yFAAc;AACrC,eAAe,mBAAO,CAAC,yFAAc;AACrC,gBAAgB,mBAAO,CAAC,2FAAe;AACvC,kBAAkB,mBAAO,CAAC,+FAAiB;AAC3C,iBAAiB,mBAAO,CAAC,iGAAkB;AAC3C,cAAc,mBAAO,CAAC,iGAAkB;AACxC,cAAc,mBAAO,CAAC,qGAAoB;AAC1C,YAAY,mBAAO,CAAC,6FAAgB;AACpC,YAAY,mBAAO,CAAC,6FAAgB;AACpC,UAAU,mBAAO,CAAC,yFAAc;AAChC,YAAY,mBAAO,CAAC,6FAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,6FAAgB;AAC1B,EAAE,mBAAO,CAAC,2FAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,qFAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,+EAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrPA;AACa;AACb,cAAc,mBAAO,CAAC,mFAAW;AACjC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,aAAa,mBAAO,CAAC,mFAAW;AAChC,yBAAyB,mBAAO,CAAC,6GAAwB;AACzD,qBAAqB,mBAAO,CAAC,qGAAoB;;AAEjD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;;;;;;ACnBU;AACb;AACA,cAAc,mBAAO,CAAC,mFAAW;AACjC,2BAA2B,mBAAO,CAAC,mHAA2B;AAC9D,cAAc,mBAAO,CAAC,qFAAY;;AAElC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACXH,mBAAO,CAAC,2FAAe;;;;;;;;;;;;ACAvB,mBAAO,CAAC,2FAAe;;;;;;;;;;;;ACAvB,mBAAO,CAAC,yGAAsB;AAC9B,aAAa,mBAAO,CAAC,mFAAW;AAChC,WAAW,mBAAO,CAAC,+EAAS;AAC5B,gBAAgB,mBAAO,CAAC,yFAAc;AACtC,oBAAoB,mBAAO,CAAC,6EAAQ;;AAEpC;AACA;AACA;AACA;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClBa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;gDAGwB;AACpB,gBAAIA,OAAO;AACP,6BAAakE,oDAASA,CAACC,uBADhB;AAEP,0BAAU,KAAKvE,KAAL,CAAWK,MAFd;AAGP,2BAAW,KAAKL,KAAL,CAAWQ;AAHf,aAAX;AAKA,iBAAKL,UAAL,CAAgBG,IAAhB,CAAqBF,IAArB;AACH;;;;;;AAGUL,uEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/wBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;IAMMyE,a;;;AAEF;;;;;;;AAOA,iCAKe;AAAA,8BAJCC,KAID;AAAA,YAJCA,KAID,8BAJS,+BAIT;AAAA,YAHCzE,KAGD,QAHCA,KAGD;AAAA,YAFCC,WAED,QAFCA,WAED;AAAA,YADCC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","file":"js/PhoneBar.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhoneBar\"] = factory();\n\telse\n\t\troot[\"PhoneBar\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","module.exports = require('./_hide');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import utils from \"./utils/utils\";\r\nimport {DeviceState, LineState, CallType, MessageID} from \"./constants\";\r\nimport Agent from \"./model/Agent\";\r\n\r\n/**\r\n * 坐席与CTI的操作API\r\n */\r\nclass AgentApi {\r\n\r\n    /**\r\n     * @param agent {Agent} 坐席信息\r\n     * @param agentConfig {AgentConfig} 坐席配置信息\r\n     * @param linePool {LinePool} 线路信息\r\n     * @param connection {CTIConnection} 服务器连接\r\n     */\r\n    constructor({agent, agentConfig, linePool, connection}) {\r\n        this.agent = agent;\r\n        this.agentConfig = agentConfig;\r\n        this.linePool = linePool;\r\n        this.connection = connection;\r\n    }\r\n\r\n    /**\r\n     * 取消订阅\r\n     */\r\n    unsubscribe() {\r\n        let data = {\"messageId\": 263, \"thisDN\": this.agent.thisDN};\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 坐席登录\r\n     */\r\n    agentLogin() {\r\n        if (this.agentConfig.isPhoneTakeAlong) return;\r\n        let data = {\r\n            \"messageId\": 100,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"thisQueues\": this.agent.thisQueues\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 坐席退出\r\n     */\r\n    agentLogout() {\r\n        if (this.agentConfig.isPhoneTakeAlong) return;\r\n        let data = {\"messageId\": 103, \"thisDN\": this.agent.thisDN, \"agentID\": this.agent.agentID};\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 坐席修改状态为非就绪状态\r\n     *\r\n     * @param reasonCode 非就绪原因码 NotReadyReason\r\n     */\r\n    agentNotReady(reasonCode) {\r\n        if (this.agentConfig.isPhoneTakeAlong || reasonCode === 1 || reasonCode === 6) return;\r\n        if (this.agent.state === Agent.OFFLINE) {\r\n            utils.showMessage('未登入，不能切换状态');\r\n            return;\r\n        }\r\n        let data = {\r\n            \"messageId\": 102,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"reasonCode\": reasonCode,\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 坐席设置为就绪状态\r\n     */\r\n    agentReady() {\r\n        if (this.agentConfig.isPhoneTakeAlong) return;\r\n        if (this.agent.state === Agent.OFFLINE) {\r\n            utils.showMessage('未登入，不能切换状态');\r\n            return;\r\n        }\r\n        let data = {\r\n            \"messageId\": 101,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 手动拨号\r\n     * @param dest\r\n     * @param id\r\n     * @param type 呼叫类型，参考CALLTYPE常量\r\n     * @param module  手动回拨\r\n     * @param call_id  原电话 callId\r\n     * @param queue\r\n     * @param newTransPara\r\n     * @param taskId\r\n     * @param numberId\r\n     * @returns {boolean}\r\n     */\r\n    makeCall(dest, id, type, module, call_id, queue, newTransPara, taskId, numberId) {\r\n        if (!dest) {\r\n            utils.showMessage(\"号码不能为空\");\r\n            return false;\r\n        }\r\n        if (dest.length === 9 && dest.charAt(0) === '1' && dest.indexOf(this.agent.tid) !== 0) {\r\n            utils.showMessage(\"号码不符合规范\");\r\n            return false;\r\n        }\r\n        if (this.agent.deviceState === DeviceState.UNREGISTERED) {\r\n            utils.showMessage(\"请登陆SIP话机，并刷新坐席状态\");\r\n            return false;\r\n        }\r\n        if (this.agentConfig.isPhoneTakeAlong) {\r\n            utils.showMessage(\"手机随行下，不能在页面拨打电话\");\r\n            return false;\r\n        }\r\n        if (this.agent.state === Agent.OFFLINE) {\r\n            utils.showMessage(\"当前为登出状态，请先登入\");\r\n            return false;\r\n        }\r\n        if (this.agent.state === Agent.READY) {\r\n            this.agentNotReady(1);\r\n        }\r\n        if (this.linePool.getWorkingLineCount() !== 0) {\r\n            utils.showMessage(\"当前已在通话中！\");\r\n            return false;\r\n        }\r\n\r\n        if (utils.checkPhoneNumber(dest)) {\r\n            dest = utils.trim(dest);\r\n            let data = {\r\n                \"messageId\": 200, \"thisDN\": this.agent.thisDN, \"agentID\": this.agent.agentID, \"otherDN\": dest,\r\n                \"attachDatas\": {\"id\": id, \"type\": type, \"cti-agentID\": this.agent.agentID}\r\n            };\r\n            if (queue != null) data[\"thisQueue\"] = queue;\r\n            if (module != null) data[\"attachDatas\"][\"module\"] = module;\r\n            if (call_id != null) data[\"attachDatas\"][\"member_uuid\"] = call_id;\r\n            if (queue != null) data[\"attachDatas\"][\"ocb_queue\"] = queue;\r\n            if (newTransPara != null) data[\"attachDatas\"][\"transPara\"] = newTransPara;\r\n            if (taskId != null) data[\"attachDatas\"][\"taskId\"] = taskId;\r\n            if (numberId != null) data[\"attachDatas\"][\"numberId\"] = numberId;\r\n            return this.connection.send(data);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 接听电话\r\n     */\r\n    answerCall() {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState !== LineState.RINGING && line.lineState !== LineState.DIALING) {\r\n            utils.showMessage(\"没有可接听的电话！\");\r\n            return false;\r\n        } else {\r\n            let data = {\r\n                \"messageId\": 201,\r\n                \"thisDN\": this.agent.thisDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"callID\": line.callId\r\n            };\r\n            this.connection.send(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 保持呼叫\r\n     */\r\n    holdCall() {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState !== LineState.TALKING) {\r\n            utils.showMessage(\"当前不在通话中，无法保持通话\");\r\n        } else {\r\n            let data = {\r\n                \"messageId\": 204,\r\n                \"thisDN\": this.agent.thisDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"callID\": line.callId\r\n            };\r\n            this.connection.send(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 接回保持的呼叫\r\n     * @returns {boolean}\r\n     */\r\n    retrieveCall() {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState !== LineState.HELD) {\r\n            utils.showMessage(\"当前线路非保持状态，无需接回\");\r\n            return false;\r\n        }\r\n        // 接回保持的通话前结束掉其他线路通话\r\n        this.linePool.lines.forEach((otherLine) => {\r\n            if (otherLine.id !== line.id && otherLine.lineState !== LineState.IDLE) {\r\n                this.releaseCall(otherLine.id);\r\n            }\r\n        });\r\n\r\n        this.connection.send({\r\n            \"messageId\": 217,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"callID\": line.callId\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 挂断电话\r\n     * @param lineId 要挂断的线路ID\r\n     * @returns {boolean}\r\n     */\r\n    releaseCall(lineId) {\r\n        if (typeof(lineId) === 'undefined' || lineId == null) {\r\n            lineId = this.linePool.getCurrentLineId();\r\n        }\r\n        let line = this.linePool.getLine(lineId);\r\n        if (null == line) {\r\n            utils.showMessage(\"线路ID错误\");\r\n        } else if (line.lineState === LineState.IDLE) {\r\n            utils.showMessage(\"当前线路没有电话,无需挂断\");\r\n        } else {\r\n            return this.connection.send({\r\n                \"messageId\": 203,\r\n                \"thisDN\": this.agent.thisDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"callID\": line.callId\r\n            });\r\n        }\r\n    }\r\n\r\n    // cti.forceReleaseCall() {\r\n    //     var lineId = cti.LinePool.getInstance().getTalkingLineId();\r\n    //     checkLineId(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var callId = line.callId;\r\n    //     var callType = line.callType;\r\n    //     var data = {\"messageId\":515,\"thisDN\":thisDN,\"callID\":callId,\"callType\":callType};\r\n    //     cti.handleVoiceEvent(2, $.toJSON(data));\r\n    // };\r\n    // cti.redirectCall(lineId, targetDN) {\r\n    //     checkLineId(lineId);\r\n    //     if(checkPhoneNumber(targetDN)){\r\n    //         targetDN = $.trim(targetDN);\r\n    //         var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //         var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //         var callId = line.callId;\r\n    //         var data = {\"messageId\":212,\"thisDN\":thisDN,\"callID\":callId,\"otherDN\":targetDN};\r\n    //         cti.send(data);\r\n    //     }\r\n    // };\r\n\r\n    /**\r\n     * 两步转接-咨询\r\n     * @param targetDN\r\n     */\r\n    consult(targetDN) {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState === LineState.TALKING &&\r\n            (line.callType === CallType.INBOUND || line.callType === CallType.OUTBOUND ||\r\n                line.callType === CallType.ORDERCALLBACK || line.callType === CallType.MANUALCALLBACK ||\r\n                line.callType === CallType.PREDICT || line.callType === CallType.PREVIEW)) {\r\n            if (utils.checkPhoneNumber(targetDN)) {\r\n                let data = {\r\n                    \"messageId\": 221,\r\n                    \"thisDN\": this.agent.thisDN,\r\n                    \"agentID\": this.agent.agentID,\r\n                    \"callID\": line.callId,\r\n                    \"otherDN\": targetDN,\r\n                    \"attachDatas\": {\"cti-agentID\": this.agent.agentID}\r\n                };\r\n                this.connection.send(data);\r\n            }\r\n        } else if (line.callType !== CallType.INBOUND) {\r\n            utils.showMessage(\"当前线路不是呼入，不能转接\");\r\n        } else {\r\n            utils.showMessage(\"当前线路未在通话，不能转接\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 咨询后转出\r\n     */\r\n    completeTransfer() {\r\n        let line = this.linePool.getCurrentLine();\r\n        let consultLine = this.linePool.getConsultLine();\r\n        if (line.lineState === LineState.HELD) {\r\n            let data = {\r\n                \"messageId\": 223,\r\n                \"thisDN\": this.agent.thisDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"callID\": consultLine.callId,\r\n                \"consultCallID\": line.callId\r\n            };\r\n            this.connection.send(data);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 呼叫转移\r\n     * @param targetDN {String} 目标坐席工号或者外线号码\r\n     */\r\n    singleStepTransfer(targetDN) {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState === LineState.TALKING &&\r\n            (line.callType === CallType.INBOUND || line.callType === CallType.OUTBOUND ||\r\n                line.callType === CallType.ORDERCALLBACK || line.callType === CallType.MANUALCALLBACK ||\r\n                line.callType === CallType.PREDICT || line.callType === CallType.PREVIEW)) {\r\n            let phoneNumber = line.phoneNumber;\r\n            if (utils.checkPhoneNumber(targetDN)) {\r\n                let data = {\r\n                    \"messageId\": 215,\r\n                    \"thisDN\": this.agent.thisDN,\r\n                    \"agentID\": this.agent.agentID,\r\n                    \"callID\": line.callId,\r\n                    \"otherDN\": targetDN,\r\n                    \"phoneNumber\": phoneNumber\r\n                };\r\n                this.connection.send(data);\r\n            }\r\n        } else if (line.callType !== CallType.INBOUND) {\r\n            utils.showMessage(\"当前线路不是呼入，不能转接\")\r\n        } else {\r\n            utils.showMessage(\"当前线路未在通话中，不能转接\")\r\n        }\r\n\r\n    }\r\n\r\n    // cti.initiateConference(lineId, targetDN) {\r\n    //     checkLineId(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var callId = line.callId;\r\n    //     var data = {\"messageId\":220,\"thisDN\":thisDN,\"agentID\":agentID,\"callID\":callId,\"otherDN\":targetDN};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.completeConference() {\r\n    //     var callId = \"\";//todo.\r\n    //     var consultCallID = \"\";\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":222,\"thisDN\":thisDN,\"agentID\":agentID,\"callID\":callId,\"consultCallID\":consultCallID};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.singleStepConference(lineId, targetDN) {\r\n    //     checkLineId(lineId);\r\n    //     if(checkPhoneNumber(targetDN)){\r\n    //         targetDN = $.trim(targetDN);\r\n    //         var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //         var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //         var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //         var callId = line.callId;\r\n    //         var data = {\"messageId\":214,\"thisDN\":thisDN,\"agentID\":agentID,\"callID\":callId,\"otherDN\":targetDN};\r\n    //         cti.send(data);\r\n    //     }\r\n    // };\r\n    //\r\n\r\n    /**\r\n     * 三方通话\r\n     * @param phoneNumber\r\n     * @returns {boolean}\r\n     */\r\n    threeWayCall(phoneNumber) {\r\n        let line = this.linePool.getCurrentLine();\r\n        let thisExten = this.agent.thisDN.substring(5);\r\n\r\n        if (phoneNumber.length > 12 || phoneNumber.length < 4 ||\r\n            (phoneNumber.length === 9 && phoneNumber.charAt(0) === '1' && phoneNumber.indexOf(this.agent.tid) !== 0)) {\r\n            utils.showMessage(\"号码不符合规范\");\r\n            return false;\r\n        }\r\n        if (phoneNumber.length === 4 && this.agent.tid !== '0') phoneNumber = this.agent.tid + phoneNumber;\r\n\r\n        if (phoneNumber === line.phoneNumber) {\r\n            utils.showMessage(`${phoneNumber}已经处于${thisExten}的会议中`);\r\n        } else if (phoneNumber === thisExten) {\r\n            utils.showMessage(`您已经处于${thisExten}的会议中`);\r\n        } else if (line.lineState === LineState.TALKING && line.callType !== CallType.THREEWAY) {\r\n            if (utils.checkPhoneNumber(phoneNumber)) {\r\n                let data = {\r\n                    \"messageId\": 225,\r\n                    \"thisDN\": this.agent.thisDN,\r\n                    \"agentID\": this.agent.agentID,\r\n                    \"callID\": line.callId,\r\n                    \"otherDN\": phoneNumber\r\n                };\r\n                this.connection.send(data);\r\n            }\r\n        } else if (line.callType === CallType.THREEWAY) {\r\n            utils.showMessage(`您已经处于会议${line.phoneNumber}中`);\r\n        } else {\r\n            utils.showMessage(\"当前线路未在通话中，不能会议\");\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 结束三方通话\r\n     * @param callId\r\n     */\r\n    releaseThreeWayCall(callId) {\r\n        let data = {\r\n            \"messageId\": 226,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"callID\": callId\r\n        };\r\n        this.connection.send(data);\r\n    };\r\n\r\n    //\r\n    // cti.sendDTMF(lineId, digit) {\r\n    //     checkLineId(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var callId = line.callId;\r\n    //     var data = {\"messageId\":250,\"thisDN\":thisDN,\"callID\":callId,\"dtmfDigit\":digit};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.updateUserData(lineId, userDataKeys, userDataValues) {\r\n    //     checkLineId(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var callId = line.callId;\r\n    //     var userData = \"\";//todo.\r\n    //     var data = {\"messageId\":232,\"thisDN\":thisDN,\"callID\":callId,\"userData\":userData};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.deleteUserData(lineId, key) {\r\n    //     checkLineId(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var callId = line.callId;\r\n    //     var data = {\"messageId\":231,\"thisDN\":thisDN,\"callID\":callId,\"key\":key};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getUserData() {\r\n    //     //todo.\r\n    // };\r\n\r\n    startAgentsMonitoring(agentDNs){\r\n        let data = {\r\n            \"messageId\": 266,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"agentDNS\":agentDNs\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n    stopAgentsMonitoring(agentDNs){\r\n        let data = {\r\n            \"messageId\": 267,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"agentDNS\":agentDNs\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n    agentReadyM(agentID) {\r\n        let data = {\"messageId\":101,\"thisDN\":this.agent.thisDN,\"agentID\":agentID};\r\n        this.connection.send(data);\r\n    }\r\n    agentNotReadyM(agentID, reasonCode) {\r\n        let data = {\"messageId\":102,\"thisDN\":this.agent.thisDN,\"agentID\":agentID,\"reasonCode\":reasonCode};\r\n        this.connection.send(data);\r\n    }\r\n    agentLogoutM(agentID) {\r\n        let data = {\"messageId\":103,\"thisDN\":this.agent.thisDN,\"agentID\":agentID};\r\n        this.connection.send(data);\r\n    }\r\n    agentLoginM(agentID) {\r\n        let data = {\"messageId\":100,\"thisDN\":this.agent.thisDN,\"agentID\":agentID};\r\n        this.connection.send(data);\r\n    }\r\n    // cti.startOcbNumbersMonitoring(){\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":275,\"thisDN\":thisDN,\"agentID\":agentID};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.stopOcbNumbersMonitoring(){\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":276,\"thisDN\":thisDN,\"agentID\":agentID};\r\n    //     cti.send(data);\r\n    // };\r\n    //\r\n    // cti.cancelOcbNumbers(nums){\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":277,\"thisDN\":thisDN,\"agentID\":agentID,\"nums\":nums};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.digitCollections(ivr_id) {\r\n    //     var lineId = cti.LinePool.getInstance().getCurrentLineId(),\r\n    //         lineDt = cti.LinePool.getInstance().getLine(lineId),\r\n    //         callId = lineDt.callId;\r\n    //     if(callId==''){\r\n    //         showMessage('当前线路不在通话中');\r\n    //     }else{\r\n    //         var thisDN = cti.Agent.getInstance().getThisDN(),\r\n    //             agentID= cti.Agent.getInstance().getAgentID(),\r\n    //             data   = {\"messageId\":227,\"thisDN\":thisDN,\"agentID\":agentID,\"ivrID\":ivr_id,\"state\":\"begin\",\"callID\":callId};\r\n    //         cti.send(data)\r\n    //     }\r\n    // };\r\n    // cti.endCollections(ivr_id) {\r\n    //     var lineId = cti.LinePool.getInstance().getCurrentLineId(),\r\n    //         lineDt = cti.LinePool.getInstance().getLine(lineId),\r\n    //         callId = lineDt.callId;\r\n    //     if(callId==''){\r\n    //         showMessage('当前线路不在通话中');\r\n    //     }else{\r\n    //         var thisDN = cti.Agent.getInstance().getThisDN(),\r\n    //             agentID= cti.Agent.getInstance().getAgentID(),\r\n    //             data   = {\"messageId\":227,\"thisDN\":thisDN,\"agentID\":agentID,\"ivrID\":ivr_id,\"state\":\"end\",\"callID\":callId};\r\n    //         cti.send(data)\r\n    //     }\r\n    // };\r\n\r\n    /**\r\n     * 监听\r\n     * @param callId\r\n     * @param targetDN\r\n     */\r\n    monitorCall(callId, targetDN) {\r\n        let data = {\r\n            \"messageId\": 265,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"callID\": callId,\r\n            \"otherDN\":targetDN\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n\r\n    /**\r\n     * 强插\r\n     * @param callId\r\n     * @param targetDN\r\n     */\r\n    doInterruptCall(callId, targetDN) {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState !== LineState.IDLE) {\r\n            utils.showMessage(\"当前状态不能强插,请先挂断电话！\");\r\n        } else {\r\n            let data = {\r\n                \"messageId\": 265,\r\n                \"thisDN\": this.agent.thisDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"callID\": callId,\r\n                \"otherDN\":targetDN,\r\n                \"whisper\":\"1\"\r\n            };\r\n            this.connection.send(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 拦截\r\n     * @param callId\r\n     * @param targetDN\r\n     * @param phoneNumber\r\n     */\r\n    substitute(callId, targetDN, phoneNumber) {\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState !== LineState.IDLE) {\r\n            utils.showMessage(\"当前状态不能拦截电话,请先挂断电话！\");\r\n        } else {\r\n            let data = {\r\n                \"messageId\": 215,\r\n                \"thisDN\": targetDN,\r\n                \"agentID\": this.agent.agentID,\r\n                \"otherDN\":this.agent.thisDN,\r\n                \"callID\": callId,\r\n                \"phoneNumber\":phoneNumber\r\n            };\r\n            this.connection.send(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 挂断\r\n     * @param callId\r\n     * @param targetDN\r\n     */\r\n    releaseAgentCall(callId, targetDN) {\r\n        let data = {\r\n            \"messageId\": 203,\r\n            \"thisDN\": targetDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"callID\": callId\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n    // cti.startDialing(tenantID, outboundID, dialMode) {\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var data = {\"messageId\":1001,\"agentID\":agentID,\"thisDN\":thisDN,\"tenantID\":tenantID,\"outboundID\":outboundID,\"dialMode\":dialMode};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.pauseDialing(tenantId, campaignId, dialMode) {\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var data = {\"messageId\":1002,\"agentID\":agentID,\"thisDN\":thisDN,\"tenantID\":tenantId,\"outboundID\":campaignId,\"dialMode\":dialMode};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.stopDialing(tenantId, campaignId, dialMode) {\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var data = {\"messageId\":1003,\"agentID\":agentID,\"thisDN\":thisDN,\"tenantID\":tenantId,\"outboundID\":campaignId,\"dialMode\":dialMode};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.updateCampaignRatio(tenantId,campaignId, ratio) {\r\n    //     var agentID =  cti.Agent.getInstance().getAgentID();\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var data = {\"messageId\":1009,\"agentID\":agentID,\"thisDN\":thisDN,\"tenantID\":tenantId,\"outboundID\":campaignId,\"ratio\":ratio,\"autoRatio\":0};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.playVoice =function(path) {\r\n    //     var lineId = cti.LinePool.getInstance().getCurrentLineId();\r\n    //     var line = cti.LinePool.getInstance().getLine(lineId);\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var data = {\"messageId\":301,\"thisDN\":thisDN,\"uuid\":line.callId, \"filePath\":path};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getStatisticAgent(reportType,startDate,endDate,agent_ids) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         'messageId':2000,\r\n    //         'thisDN':thisDN,\r\n    //         \"agentID\":agentID,\r\n    //         'statisticMetric': {\r\n    //             'filter': agent_ids,\r\n    //             'statisticType': reportType,\r\n    //             'timeRange': startDate,\r\n    //             'timeRange2': endDate\r\n    //         },\r\n    //         'statisticObject': {\r\n    //         }};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getStatisticMonth(reportType,month,agent_ids) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         'messageId':2002,\r\n    //         'thisDN':thisDN,\r\n    //         \"agentID\":agentID,\r\n    //         'statisticMetric': {\r\n    //             'filter': agent_ids,\r\n    //             'statisticType': reportType,\r\n    //             'timeRange': month,\r\n    //             'timeRange2': month\r\n    //         },\r\n    //         'statisticObject': {\r\n    //         }};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getStatisticForOutbound(startTime,endTime,filter,type) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         \"messageId\": 1011,\r\n    //         \"referenceID\": 1000,\r\n    //         \"agentID\":agentID,\r\n    //         \"statisticMetric\": {\r\n    //             \"filter\": filter,\r\n    //             \"statisticType\": type,\r\n    //             \"timeProfile\": \"year\",\r\n    //             \"timeRange\": startTime,\r\n    //             \"timeRange2\": endTime\r\n    //         },\r\n    //         \"statisticObject\": {\r\n    //             \"objectId\": \"kpi\",\r\n    //             \"statisticObjectType\": type,\r\n    //             \"tenantPassword\": \"\"\r\n    //         },\r\n    //         \"campaignId\": 0,\r\n    //         \"thisDN\": thisDN\r\n    //     };\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getStatisticHistoryDetail(reportType,startDate,endDate,filter,pageSize,currentPage) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         'messageId':2001,\r\n    //         'thisDN':thisDN,\r\n    //         'agentID':agentID,\r\n    //         'statisticMetric': {\r\n    //             'filter': filter,\r\n    //             'statisticType': reportType,\r\n    //             'timeRange': startDate,\r\n    //             'timeRange2': endDate,\r\n    //             'pageSize': pageSize,\r\n    //             'currentPage': currentPage\r\n    //         },\r\n    //         'statisticObject': {\r\n    //         }};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.campaignLoadByFileName(campaignId,repeat) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":1012,\"thisDN\":thisDN,\"agentID\":agentID,\"campaignId\":campaignId,\"repeat\":repeat};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.campaignLoadByCId(cId,campaignId,repeat) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":1018,\"thisDN\":thisDN,\"agentID\":agentID,\"cId\":cId,\"campaignId\":campaignId,\"repeat\":repeat};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.retrieveCampaign(campaignId,retrieveCampaignId,retrieveType) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":1013,\"thisDN\":thisDN,\"agentID\":agentID,\"campaignId\":campaignId,\"retrieveCampaignId\":retrieveCampaignId,\"retrieveType\":retrieveType};\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getCallLoss(startDate,endDate,filter,pageSize,currentPage) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         'messageId':1015,\r\n    //         'thisDN':thisDN,\r\n    //         'agentID':agentID,\r\n    //         'filter': filter,\r\n    //         'startDate': startDate,\r\n    //         'endDate': endDate,\r\n    //         'pageSize': pageSize,\r\n    //         'currentPage': currentPage\r\n    //     };\r\n    //     cti.send(data);\r\n    // };\r\n    // cti.getRecordList(startDate,endDate,resultType,qc,agentIDs,dst,pageSize,currentPage) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\r\n    //         'messageId':3001,\r\n    //         'thisDN':thisDN,\r\n    //         'agentID':agentID,\r\n    //         'attachDatas': {\r\n    //             'resultType': resultType,\r\n    //             'qc': qc,\r\n    //             'agentIDs': agentIDs,\r\n    //             'startTime': startDate,\r\n    //             'endTime': endDate,\r\n    //             'dst':dst,\r\n    //             'page': currentPage,\r\n    //             'offSet': pageSize\r\n    //         }};\r\n    //     cti.send(data);\r\n    // }\r\n    // cti.sysSettingsUpdate(destDN, eventName, msg) {\r\n    //     var thisDN = cti.Agent.getInstance().getThisDN();\r\n    //     var agentID = cti.Agent.getInstance().getAgentID();\r\n    //     var data = {\"messageId\":300,\"thisDN\":thisDN,\"agentID\":agentID,\"destDN\":destDN,\"eventName\":eventName,\"msg\":msg};\r\n    //     cti.send(data);\r\n    // };\r\n\r\n    /**\r\n     * 获取可监控的坐席信息\r\n     */\r\n    requestMonitorMembers() {\r\n        let data = {\r\n            \"messageId\": MessageID.RequestMonitorAgentList,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID\r\n        };\r\n        this.connection.send(data);\r\n    }\r\n}\r\n\r\nexport default AgentApi;\r\n","import utils from \"./utils/utils\";\r\nimport {MessageID, DeviceState} from \"./constants\";\r\nimport Ajax from \"./utils/Ajax\";\r\nimport AgentApi from \"./AgentApi\";\r\nimport Log from \"./utils/Log\";\r\nimport WebSocketBaseClient from \"./WebSocketBaseClient\";\r\nimport Agent from \"./model/Agent\";\r\n\r\n/**\r\n * 基于jWebSocket js库实现与话务平台的websocket通信\r\n * 定义了与消息服务器建立链接、关闭、监听消息（详细见文件中注释部分）.\r\n * WEB端请求的事件都在此向消息服务器请求，消息服务器返回和推送的事件也在这里处理。\r\n * @extends WebSocketBaseClient\r\n */\r\nclass CTIConnection extends WebSocketBaseClient {\r\n\r\n    /**\r\n     *\r\n     * @param wsUrl {String}  websocket地址\r\n     * @param agent {Agent}\r\n     * @param agentConfig {AgentConfig}\r\n     * @param linePool {LinePool}\r\n     */\r\n    constructor({\r\n                    wsUrl = 'ws://127.0.0.1:8787/websocket',\r\n                    agent,\r\n                    agentConfig,\r\n                    linePool,\r\n                }) {\r\n        super({'url':wsUrl, automaticOpen: false});\r\n\r\n        this.agent = agent;\r\n        this.linePool = linePool;\r\n        this.agentConfig = agentConfig;\r\n        this.agentApi = new AgentApi({\r\n            agent: agent,\r\n            agentConfig: agentConfig,\r\n            linePool: linePool,\r\n            connection: this,\r\n        });\r\n\r\n        this._loginTimeout = null;\r\n        this.loggedIn = false;\r\n    }\r\n\r\n    login() {\r\n        // 定义一个定时器，当接收到消息后清除此任务，如果在20秒内没有清除，将触发connectTimeout事件\r\n        this._loginTimeout = window.setTimeout(() => {\r\n            if (this.agentConfig.isPhoneTakeAlong === false) {\r\n                utils.showMessage(\"网速过慢，软电话加载未成功，请刷新重试\");\r\n            }\r\n        }, 20000);\r\n\r\n        let data = this.loggedIn ? {\r\n            \"type\": \"ping\",\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"messageId\": \"\"\r\n        } : {\r\n            \"messageId\": 100,\r\n            \"thisDN\": this.agent.thisDN,\r\n            \"agentID\": this.agent.agentID,\r\n            \"thisQueues\": this.agent.thisQueues,\r\n            \"defaultQueue\": this.agent.defaultQueue,\r\n        };\r\n\r\n        this.sendMessage({\r\n            type: \"login\",\r\n            thisDN: this.agent.thisDN,\r\n            agentID: this.agent.agentID,\r\n            message: JSON.stringify(data)\r\n        });\r\n    }\r\n\r\n    doClose() {\r\n        if (this.isOpened()) {\r\n            this.stopKeepAlive();\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    send(data) {\r\n        if (this.isOpened()) {\r\n            let lToken = {\r\n                thisDN: this.agent.thisDN,\r\n                agentID: this.agent.agentID,\r\n                type: \"request\",\r\n                message: JSON.stringify(data)\r\n            };\r\n            Log.log(JSON.stringify(lToken), 'input');\r\n            this.sendMessage(lToken);\r\n            return true;\r\n        } else {\r\n            utils.showMessage(\"没有与CTI服务器建立连接！\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 覆写父类方法，当startKeepAlive时会默认调用此方法\r\n     */\r\n    ping() {\r\n        if(this.isOpened()) {\r\n            this.sendMessage({\r\n                type: \"ping\",\r\n                thisDN: this.agent.thisDN,\r\n                agentID: this.agent.agentID,\r\n                message: \"\"\r\n            });\r\n        }\r\n    }\r\n\r\n    onClose(event) {\r\n        this.stopKeepAlive();\r\n    }\r\n\r\n    onOpen(event) {\r\n        this.startKeepAlive(false);\r\n        //登录成功，且不在通话中，自动置闲(服务器响应为5S)\r\n        if (this.agentConfig.autoIdleWhenLogin) {\r\n            window.setTimeout(() => {\r\n                if (this.isOpened() && this.loggedIn &&\r\n                    DeviceState.REGISTERED === this.agent.deviceState &&\r\n                    Agent.BUSY === this.agent.state) {\r\n                    this.agentApi.agentReady();\r\n                }\r\n            }, 5000);\r\n        }\r\n\r\n        this.sendMessage({\r\n            type:\"welcome\",\r\n            thisDN:\"\",\r\n            agentID: \"\",\r\n            message:\"\"\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 协议消息转换\r\n     * @param event  event.data是服务器返回数据，其中messageId代表消息类型与常量MessageID对应。\r\n     *               坐席相关事件中event.data.deviceState与常量DeviceState对应。\r\n     *\r\n     */\r\n    onMessage(event) {\r\n        let data = JSON.parse(event.data);\r\n        if (data == null) return;\r\n        if (data.messageId !== MessageID.EventWelcome && data.messageId !== MessageID.EventPong) Log.log(JSON.stringify(data), 'output');\r\n        // CTI握手成功\r\n        if (data.messageId === MessageID.EventWelcome) {\r\n            this.login();\r\n        }\r\n        if (data.messageId === MessageID.EventAgentLogin) {\r\n            window.clearTimeout(this._loginTimeout);\r\n            this.loggedIn = true;\r\n        }\r\n        if(!this.loggedIn && data.messageId === MessageID.EventAgentReady){\r\n            this.agentApi.agentLogout();\r\n            utils.showMessage(\"异常就绪,已自动请求登出！\");\r\n            return;\r\n        }\r\n\r\n        this.emit(data.messageId.toString(), data);\r\n\r\n        if (data.messageId === MessageID.EventAgentLogin ||\r\n            data.messageId === MessageID.EventAgentNotReady ||\r\n            data.messageId === MessageID.EventAgentReady) {\r\n            // 不处理通话和振铃事件，由LinePool监控这两种状态；其他状态当存在通话时收到通知不处理；\r\n            if (data.reasonCode !== 1 && data.reasonCode !== 6 && this.linePool.getWorkingLineCount() === 0) {\r\n                this.agent.setAgentState(Agent.convertToLocalState(data.state, data.reasonCode));\r\n            }\r\n            this.agent.setDeviceState(data.deviceState);\r\n        } else if (data.messageId === MessageID.EventAgentLogout) {\r\n            this.agent.setAgentState(Agent.convertToLocalState(data.state, data.reasonCode));\r\n            this.agent.setDeviceState(data.deviceState);\r\n            this.loggedIn = false;\r\n            Ajax.send({\r\n                url: '/application/is_pta/' + data.thisDN,\r\n                type: 'get',\r\n            });\r\n        } else if (data.messageId === MessageID.EventDialing ||\r\n            data.messageId === MessageID.EventRinging ||\r\n            data.messageId === MessageID.EventEstablished ||\r\n            data.messageId === MessageID.EventReleased ||\r\n            data.messageId === MessageID.EventHeld ||\r\n            data.messageId === MessageID.EventRetrieved ||\r\n            data.messageId === MessageID.EventAbandoned) {\r\n            this.linePool.updateLineDate(data);\r\n        } else if (data.messageId === MessageID.EventError) {\r\n            utils.showMessage(data.errorMessage);\r\n        } else if (data.messageId === MessageID.EventLinkDisconnected && data.reason === 1) {\r\n            if (data.reason === 1) {\r\n                utils.showMessage(\"该坐席已经从其它地方登入，请退出!\");\r\n                setTimeout(() => {this.emit('linkDisconnected')}, 3000);\r\n            } else {\r\n                utils.showMessage(\"与服务器的连接已断开!\");\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default CTIConnection;\r\n","import EventEmitter from 'eventemitter3';\r\nimport utils from \"./utils/utils\";\r\n\r\n/**\r\n * 内置软电话交互JS\r\n */\r\nclass SoftPhoneConnection extends EventEmitter {\r\n\r\n    constructor({\r\n                    urls = ['ws://127.0.0.1:57712', \"ws://127.0.0.1:58823\"], protocols = [],\r\n\r\n                    serverUrl, username, password,\r\n\r\n                    automaticOpen = false,\r\n                    pingInterval = 20000\r\n                } = {}) {\r\n        super();\r\n        this.wsInfo = urls.map(function (v, i) {\r\n            return {'ws': null, 'url': v, 'enabled': true};\r\n        });\r\n        this.protocols = protocols;\r\n\r\n        this.serverUrl = serverUrl;\r\n        this.username = username;\r\n        this.password = password;\r\n\r\n        /** 实例化后是否自动打开 */\r\n        this.automaticOpen = automaticOpen;\r\n        /** ping时间间隔 */\r\n        this.pingInterval = pingInterval;\r\n\r\n        this.currentWS = null;\r\n        this.sessionid = null;\r\n        this.pingcount = 0;\r\n        this.pingTimeHandler = null;\r\n\r\n        if (this.automaticOpen) {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取第一个可用的wsInfo，如果无可用URL返回null\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getFirstEnabledWSInfo() {\r\n        for (let i = 0, len = this.wsInfo.length; i < len; i++) {\r\n            if (this.wsInfo[i].enabled) {\r\n                return this.wsInfo[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 获取url地址相同的wsInfo，如果无匹配结果返回null\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getWSInfoByPath(path) {\r\n        for (let i = 0, len = this.wsInfo.length; i < len; i++) {\r\n            if (path.indexOf(this.wsInfo[i].url) > -1) {\r\n                return this.wsInfo[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    open() {\r\n        let wsInfo = this.getFirstEnabledWSInfo();\r\n        // 如果没有可用url，弹出提示并不在创建连接\r\n        if (null == wsInfo) {\r\n            utils.showMessage('内置话机异常,请检查本地服务是否被禁用，或重新安装软电话！');\r\n            return false;\r\n        }\r\n        this.currentWS = null;\r\n        this.currentWS = new WebSocket(wsInfo.url, this.protocols);\r\n        this.currentWS.onopen = (aEvent) => {\r\n            this.onOpen(aEvent, wsInfo)\r\n        };\r\n        this.currentWS.onclose = (aEvent) => {\r\n            this.onDisconnected(aEvent, wsInfo)\r\n        };\r\n        this.currentWS.onmessage = (aEvent) => {\r\n            this.onMessage(aEvent, wsInfo)\r\n        };\r\n        this.currentWS.onerror = (aEvent) => {\r\n            this.onError(aEvent, wsInfo)\r\n        };\r\n\r\n        wsInfo.ws = this.currentWS;\r\n\r\n        return this;\r\n    }\r\n\r\n    onOpen(aEvent) {\r\n        console.log(aEvent, 'sipphone onConnect', this.getFirstEnabledWSInfo());\r\n        this.doLogin(this.serverUrl, this.username, this.password);\r\n    }\r\n\r\n    onDisconnected(aEvent, wsInfo) {\r\n        console.log('sipphone closed');\r\n        this.stopPing();\r\n        wsInfo.ws = null;\r\n    }\r\n\r\n    onMessage(message) {\r\n        let token = JSON.parse(message.data);\r\n        if (token.action === 'ping') {\r\n            this.pingcount = 0;\r\n        } else if (token.action === 'login') {\r\n            if (this.username === token.data.user && token.data.result === 1) {\r\n                this.sessionid = token.data.sid;\r\n                this.startPing();\r\n                this.emit('loginSuccess', token);\r\n            } else {\r\n                utils.showMessage(\"软电话注册失败！\");\r\n            }\r\n        } else if (token.action === \"close\" && token.data.user === this.username) {\r\n            this.stopPing();\r\n            utils.showMessage('软电话已退出！');\r\n        }\r\n        this.emit(token.action, token.data);\r\n    }\r\n\r\n    onError(aEvent) {\r\n        let wsInfo = this.getWSInfoByPath(aEvent.currentTarget.url);\r\n        wsInfo.enabled = false;\r\n        // 重试\r\n        this.open();\r\n    }\r\n\r\n    isOpened() {\r\n        return this.currentWS && this.currentWS.readyState === WebSocket.OPEN;\r\n    }\r\n\r\n    doClose() {\r\n        if (this.isOpened()) {\r\n            this.send({\r\n                \"action\" : \"close\",\r\n                \"sid\": this.sessionid,\r\n                \"data\" : {\"user\" : this.username}\r\n            });\r\n            this.currentWS.close();\r\n        }\r\n    }\r\n\r\n    send(msg) {\r\n        if (this.isOpened()) {\r\n            this.sessionid || (msg['sid'] = this.sessionid);\r\n            return this.currentWS.send(JSON.stringify(msg));\r\n        } else {\r\n            throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\r\n        }\r\n    }\r\n\r\n    doLogin(addr, username, password) {\r\n        if (this.isOpened()) {\r\n            this.send({\r\n                'action': 'login',\r\n                'data': {'addr': addr, 'user': username, 'password': password}\r\n            });\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 发送ping消息\r\n     */\r\n    sendPing() {\r\n        this.send({\r\n            'action': 'ping',\r\n            'sid': this.sessionid\r\n        });\r\n        this.pingcount = this.pingcount + 1;\r\n        if (this.pingcount > 3) {\r\n            this.stopPing();\r\n            console.log('reLoad');\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 开始ping\r\n     */\r\n    startPing() {\r\n        this.pingTimeHandler = setTimeout(() => {\r\n            this.startPing()\r\n        }, this.pingInterval);\r\n        this.sendPing()\r\n    }\r\n\r\n    /**\r\n     * 结束ping\r\n     */\r\n    stopPing() {\r\n        clearTimeout(this.pingTimeHandler);\r\n        this.pingcount = 0;\r\n    }\r\n}\r\n\r\n\r\nexport default SoftPhoneConnection;\r\n","import EventEmitter from 'eventemitter3';\r\nimport ReconnectingWebSocket from './assets/js/reconnecting-websocket'\r\n\r\n/**\r\n * websocket客户端基础类，用于子类继承\r\n */\r\nclass WebSocketBaseClient extends EventEmitter {\r\n\r\n    constructor({\r\n                    url = 'ws://127.0.0.1:57712', protocols = [],\r\n\r\n                    automaticOpen = true,\r\n                    keepAliveInterval = 20000,\r\n\r\n                    debug = false\r\n                } = {}) {\r\n        super();\r\n        this.url = url;\r\n        this.protocols = protocols;\r\n\r\n        /** 实例化后是否自动打开 */\r\n        this.automaticOpen = automaticOpen;\r\n        /** 心跳包时间间隔 */\r\n        this.keepAliveInterval = keepAliveInterval;\r\n\r\n        this.ws = null;\r\n        this.status =\r\n\r\n        this.debug = debug;\r\n\r\n        if (this.automaticOpen) {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 浏览器是否支持WebSocket\r\n     * @returns {boolean} 是否支持\r\n     */\r\n    static browserSupportsWebSockets() {\r\n        return (window.WebSocket !== null && window.WebSocket !== undefined);\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    open() {\r\n        if (!this.ws) {\r\n            this.ws = new ReconnectingWebSocket(this.url, this.protocols);\r\n            this.ws.onopen = (aEvent) => {\r\n                this.onOpen(aEvent)\r\n            };\r\n            this.ws.onclose = (aEvent) => {\r\n                this.onClose(aEvent)\r\n            };\r\n            this.ws.onmessage = (aEvent) => {\r\n                this.onMessage(aEvent)\r\n            };\r\n            this.ws.onerror = (aEvent) => {\r\n                this.onError(aEvent)\r\n            };\r\n        }\r\n    }\r\n\r\n    onOpen(aEvent) {\r\n    }\r\n\r\n    onClose(aEvent) {}\r\n\r\n    onMessage(message) {}\r\n\r\n    onError(aEvent) {\r\n    }\r\n\r\n    isOpened() {\r\n        return (this.ws && this.ws.readyState === WebSocket.OPEN);\r\n    }\r\n\r\n    close() {\r\n        if (this.ws) {\r\n            this.ws.close();\r\n            this.ws = null;\r\n        }\r\n    }\r\n\r\n    sendMessage(aToken) {\r\n        if (this.ws) {\r\n            return this.ws.send(JSON.stringify(aToken));\r\n        } else {\r\n            throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 发送ping消息\r\n     */\r\n    ping() {\r\n    }\r\n\r\n    /**\r\n     * 开始一个连接保持定时器\r\n     */\r\n    startKeepAlive(immediate = true) {\r\n        // 如果有一个正在运行的定时器\r\n        if (this.keepAliveTimeout) {\r\n            this.stopKeepAlive();\r\n        }\r\n        // 如果没有open\r\n        if (!this.isOpened()) {\r\n            // TODO: 这里添加合理的返回结果\r\n            return;\r\n        }\r\n        if (immediate) {\r\n            // 如果立即执行，直接发送一次ping指令\r\n            this.ping();\r\n        }\r\n        // 初始化一个定时器\r\n        this.keepAliveTimeout = setInterval(() => {\r\n                if (this.isOpened()) {\r\n                    this.ping();\r\n                } else {\r\n                    this.stopKeepAlive();\r\n                }\r\n            },\r\n            this.keepAliveInterval\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 结束一个连接保持定时器\r\n     */\r\n    stopKeepAlive() {\r\n        // TODO: 这里添加合理的返回结果\r\n        if (this.keepAliveTimeout) {\r\n            clearInterval(this.keepAliveTimeout);\r\n            this.keepAliveTimeout = null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default WebSocketBaseClient;\r\n","// ie9兼容classList的add、remove、toggle、contains、item等方法\r\nif (!(\"classList\" in document.documentElement)) {\r\n    Object.defineProperty(HTMLElement.prototype, 'classList', {\r\n        get: function() {\r\n            var self = this;\r\n            function update(fn) {\r\n                return function(value) {\r\n                    var classes = self.className.split(/\\s+/g),\r\n                        index = classes.indexOf(value);\r\n\r\n                    fn(classes, index, value);\r\n                    self.className = classes.join(\" \");\r\n                }\r\n            }\r\n\r\n            return {\r\n                add: update(function(classes, index, value) {\r\n                    if (!~index) classes.push(value);\r\n                }),\r\n\r\n                remove: update(function(classes, index) {\r\n                    if (~index) classes.splice(index, 1);\r\n                }),\r\n\r\n                toggle: update(function(classes, index, value) {\r\n                    if (~index)\r\n                        classes.splice(index, 1);\r\n                    else\r\n                        classes.push(value);\r\n                }),\r\n\r\n                contains: function(value) {\r\n                    return !!~self.className.split(/\\s+/g).indexOf(value);\r\n                },\r\n\r\n                item: function(i) {\r\n                    return self.className.split(/\\s+/g)[i] || null;\r\n                }\r\n            };\r\n        }\r\n    });\r\n}\r\n","// MIT License:\r\n//\r\n// Copyright (c) 2010-2012, Joe Walnes\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included in\r\n// all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n// THE SOFTWARE.\r\n\r\n/**\r\n * This behaves like a WebSocket in every way, except if it fails to connect,\r\n * or it gets disconnected, it will repeatedly poll until it successfully connects\r\n * again.\r\n *\r\n * It is API compatible, so when you have:\r\n *   ws = new WebSocket('ws://....');\r\n * you can replace with:\r\n *   ws = new ReconnectingWebSocket('ws://....');\r\n *\r\n * The event stream will typically look like:\r\n *  onconnecting\r\n *  onopen\r\n *  onmessage\r\n *  onmessage\r\n *  onclose // lost connection\r\n *  onconnecting\r\n *  onopen  // sometime later...\r\n *  onmessage\r\n *  onmessage\r\n *  etc...\r\n *\r\n * It is API compatible with the standard WebSocket API, apart from the following members:\r\n *\r\n * - `bufferedAmount`\r\n * - `extensions`\r\n * - `binaryType`\r\n *\r\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\r\n * - Joe Walnes\r\n *\r\n * Syntax\r\n * ======\r\n * var socket = new ReconnectingWebSocket(url, protocols, options);\r\n *\r\n * Parameters\r\n * ==========\r\n * url - The url you are connecting to.\r\n * protocols - Optional string or array of protocols.\r\n * options - See below\r\n *\r\n * Options\r\n * =======\r\n * Options can either be passed upon instantiation or set after instantiation:\r\n *\r\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\r\n *\r\n * or\r\n *\r\n * var socket = new ReconnectingWebSocket(url);\r\n * socket.debug = true;\r\n * socket.reconnectInterval = 4000;\r\n *\r\n * debug\r\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\r\n *\r\n * automaticOpen\r\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\r\n *\r\n * reconnectInterval\r\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\r\n *\r\n * maxReconnectInterval\r\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\r\n *\r\n * reconnectDecay\r\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\r\n *\r\n * timeoutInterval\r\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\r\n *\r\n */\r\n(function (global, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports){\r\n        module.exports = factory();\r\n    } else {\r\n        global.ReconnectingWebSocket = factory();\r\n    }\r\n})(this, function () {\r\n\r\n    if (!('WebSocket' in window)) {\r\n        return;\r\n    }\r\n\r\n    function ReconnectingWebSocket(url, protocols, options) {\r\n\r\n        // Default settings\r\n        var settings = {\r\n\r\n            /** Whether this instance should log debug messages. */\r\n            debug: false,\r\n\r\n            /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\r\n            automaticOpen: true,\r\n\r\n            /** The number of milliseconds to delay before attempting to reconnect. */\r\n            reconnectInterval: 1000,\r\n            /** The maximum number of milliseconds to delay a reconnection attempt. */\r\n            maxReconnectInterval: 30000,\r\n            /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\r\n            reconnectDecay: 1.5,\r\n\r\n            /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\r\n            timeoutInterval: 2000,\r\n\r\n            /** The maximum number of reconnection attempts to make. Unlimited if null. */\r\n            maxReconnectAttempts: null,\r\n\r\n            /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\r\n            binaryType: 'blob'\r\n        }\r\n        if (!options) { options = {}; }\r\n\r\n        // Overwrite and define settings with options if they exist.\r\n        for (var key in settings) {\r\n            if (typeof options[key] !== 'undefined') {\r\n                this[key] = options[key];\r\n            } else {\r\n                this[key] = settings[key];\r\n            }\r\n        }\r\n\r\n        // These should be treated as read-only properties\r\n\r\n        /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\r\n        this.url = url;\r\n\r\n        /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\r\n        this.reconnectAttempts = 0;\r\n\r\n        /**\r\n         * The current state of the connection.\r\n         * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\r\n         * Read only.\r\n         */\r\n        this.readyState = WebSocket.CONNECTING;\r\n\r\n        /**\r\n         * A string indicating the name of the sub-protocol the server selected; this will be one of\r\n         * the strings specified in the protocols parameter when creating the WebSocket object.\r\n         * Read only.\r\n         */\r\n        this.protocol = null;\r\n\r\n        // Private state variables\r\n\r\n        var self = this;\r\n        var ws;\r\n        var forcedClose = false;\r\n        var timedOut = false;\r\n        var eventTarget = document.createElement('div');\r\n\r\n        // Wire up \"on*\" properties as event handlers\r\n\r\n        eventTarget.addEventListener('open',       function(event) { self.onopen(event); });\r\n        eventTarget.addEventListener('close',      function(event) { self.onclose(event); });\r\n        eventTarget.addEventListener('connecting', function(event) { self.onconnecting(event); });\r\n        eventTarget.addEventListener('message',    function(event) { self.onmessage(event); });\r\n        eventTarget.addEventListener('error',      function(event) { self.onerror(event); });\r\n\r\n        // Expose the API required by EventTarget\r\n\r\n        this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\r\n        this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\r\n        this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\r\n\r\n        /**\r\n         * This function generates an event that is compatible with standard\r\n         * compliant browsers and IE9 - IE11\r\n         *\r\n         * This will prevent the error:\r\n         * Object doesn't support this action\r\n         *\r\n         * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\r\n         * @param s String The name that the event should use\r\n         * @param args Object an optional object that the event will use\r\n         */\r\n        function generateEvent(s, args) {\r\n            var evt = document.createEvent(\"CustomEvent\");\r\n            evt.initCustomEvent(s, false, false, args);\r\n            return evt;\r\n        };\r\n\r\n        this.open = function (reconnectAttempt) {\r\n            ws = new WebSocket(self.url, protocols || []);\r\n            ws.binaryType = this.binaryType;\r\n\r\n            if (reconnectAttempt) {\r\n                if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\r\n                    return;\r\n                }\r\n            } else {\r\n                eventTarget.dispatchEvent(generateEvent('connecting'));\r\n                this.reconnectAttempts = 0;\r\n            }\r\n\r\n            if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\r\n            }\r\n\r\n            var localWs = ws;\r\n            var timeout = setTimeout(function() {\r\n                if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\r\n                }\r\n                timedOut = true;\r\n                localWs.close();\r\n                timedOut = false;\r\n            }, self.timeoutInterval);\r\n\r\n            ws.onopen = function(event) {\r\n                clearTimeout(timeout);\r\n                if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                    console.debug('ReconnectingWebSocket', 'onopen', self.url);\r\n                }\r\n                self.protocol = ws.protocol;\r\n                self.readyState = WebSocket.OPEN;\r\n                self.reconnectAttempts = 0;\r\n                var e = generateEvent('open');\r\n                e.isReconnect = reconnectAttempt;\r\n                reconnectAttempt = false;\r\n                eventTarget.dispatchEvent(e);\r\n            };\r\n\r\n            ws.onclose = function(event) {\r\n                clearTimeout(timeout);\r\n                ws = null;\r\n                if (forcedClose) {\r\n                    self.readyState = WebSocket.CLOSED;\r\n                    eventTarget.dispatchEvent(generateEvent('close'));\r\n                } else {\r\n                    self.readyState = WebSocket.CONNECTING;\r\n                    var e = generateEvent('connecting');\r\n                    e.code = event.code;\r\n                    e.reason = event.reason;\r\n                    e.wasClean = event.wasClean;\r\n                    eventTarget.dispatchEvent(e);\r\n                    if (!reconnectAttempt && !timedOut) {\r\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                            console.debug('ReconnectingWebSocket', 'onclose', self.url);\r\n                        }\r\n                        eventTarget.dispatchEvent(generateEvent('close'));\r\n                    }\r\n\r\n                    var timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\r\n                    setTimeout(function() {\r\n                        self.reconnectAttempts++;\r\n                        self.open(true);\r\n                    }, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\r\n                }\r\n            };\r\n            ws.onmessage = function(event) {\r\n                if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                    console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\r\n                }\r\n                var e = generateEvent('message');\r\n                e.data = event.data;\r\n                eventTarget.dispatchEvent(e);\r\n            };\r\n            ws.onerror = function(event) {\r\n                if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                    console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\r\n                }\r\n                eventTarget.dispatchEvent(generateEvent('error'));\r\n            };\r\n        }\r\n\r\n        // Whether or not to create a websocket upon instantiation\r\n        if (this.automaticOpen == true) {\r\n            this.open(false);\r\n        }\r\n\r\n        /**\r\n         * Transmits data to the server over the WebSocket connection.\r\n         *\r\n         * @param data a text string, ArrayBuffer or Blob to send to the server.\r\n         */\r\n        this.send = function(data) {\r\n            if (ws) {\r\n                if (self.debug || ReconnectingWebSocket.debugAll) {\r\n                    console.debug('ReconnectingWebSocket', 'send', self.url, data);\r\n                }\r\n                return ws.send(data);\r\n            } else {\r\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Closes the WebSocket connection or connection attempt, if any.\r\n         * If the connection is already CLOSED, this method does nothing.\r\n         */\r\n        this.close = function(code, reason) {\r\n            // Default CLOSE_NORMAL code\r\n            if (typeof code == 'undefined') {\r\n                code = 1000;\r\n            }\r\n            forcedClose = true;\r\n            if (ws) {\r\n                ws.close(code, reason);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Additional public API method to refresh the connection if still open (close, re-open).\r\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\r\n         */\r\n        this.refresh = function() {\r\n            if (ws) {\r\n                ws.close();\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n     * this indicates that the connection is ready to send and receive data.\r\n     */\r\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\r\n    /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\r\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\r\n    /** An event listener to be called when a connection begins being attempted. */\r\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\r\n    /** An event listener to be called when a message is received from the server. */\r\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\r\n    /** An event listener to be called when an error occurs. */\r\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\r\n\r\n    /**\r\n     * Whether all instances of ReconnectingWebSocket should log debug messages.\r\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\r\n     */\r\n    ReconnectingWebSocket.debugAll = false;\r\n\r\n    ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\r\n    ReconnectingWebSocket.OPEN = WebSocket.OPEN;\r\n    ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\r\n    ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\r\n\r\n    return ReconnectingWebSocket;\r\n});\r\n","/**\r\n * 坐席状态常量\r\n */\r\nexport const AgentState = {\r\n    OFFLINE: 0,\r\n    READY: 1,\r\n    NOTREADY: 2\r\n}\r\n","\r\n/**\r\n * 表示电话的方向\r\n */\r\nconst CallType = {\r\n    /*未知类型:电话方向未知，一般是程序出错导致*/\r\n    UNKNOWN: 0,\r\n    /*内部电话*/\r\n    INTERNAL: 1,\r\n    /*客户呼入:外部客户来电*/\r\n    INBOUND: 2,\r\n    /*手动呼出:坐席外拨去电*/\r\n    OUTBOUND: 3,\r\n    /*电话转接:坐席内部咨询电话*/\r\n    CONSULT: 4,\r\n    /*多方通话*/\r\n    THREEWAY: 5,\r\n    /*预约回呼*/\r\n    ORDERCALLBACK: 6,\r\n    /*电话回访*/\r\n    MANUALCALLBACK: 7,\r\n    /*预测外呼*/\r\n    PREDICT: 8,\r\n    /*精确预览:预览外呼*/\r\n    PREVIEW: 9,\r\n    /*网页电话:预留*/\r\n    WEBCALL: 10,\r\n    /*电话监听*/\r\n    MONITOR: 11,\r\n};\r\n/* 状态字典 */\r\nCallType.dict = {\r\n    [CallType.UNKNOWN]: '未知类型',\r\n    [CallType.INTERNAL]: '内部通话',\r\n    [CallType.INBOUND]: '客户呼入',\r\n    [CallType.OUTBOUND]: '手动呼出',\r\n    [CallType.CONSULT]: '电话转接',\r\n    [CallType.THREEWAY]: '多方通话',\r\n    [CallType.ORDERCALLBACK]: '预约回呼',\r\n    [CallType.MANUALCALLBACK]: '电话回访',\r\n    [CallType.PREDICT]: '预测外呼',\r\n    [CallType.PREVIEW]: '精确预览',\r\n    [CallType.WEBCALL]: '网页电话',\r\n    [CallType.MONITOR]: '电话监听',\r\n};\r\n\r\nexport {CallType};\r\n","export const DeviceState = {\r\n    /*注册成功*/\r\n    REGISTERED: 1,\r\n    /*未注册*/\r\n    UNREGISTERED: 2\r\n};\r\n","export const LineState = {\r\n    /*空闲*/\r\n    IDLE: 'idle',\r\n    /*外呼振铃*/\r\n    DIALING: 'dialing',\r\n    /*呼入响铃*/\r\n    RINGING: 'ringing',\r\n    /*通话*/\r\n    TALKING: 'talking',\r\n    /*保持*/\r\n    HELD: 'held'\r\n};\r\n","/**\r\n * 话务平台通信消息类型常量\r\n */\r\nexport const MessageID = {\r\n    // 坐席状态变更指令\r\n    RequestAgentLogin: 100,\r\n    RequestAgentReady: 101,\r\n    RequestAgentNotReady: 102,\r\n    RequestAgentLogout: 103,\r\n    // 电话控制指令\r\n    RequestMakeCall: 200,\r\n    RequestAnswerCall: 201,\r\n    RequestReleaseCall: 203,\r\n    RequestHoldCall: 204,\r\n    RequestRedirectCall: 212,\r\n    RequestClearCall: 213,\r\n    RequestSingleStepConference: 214,\r\n    RequestSingleStepTransfer: 215,\r\n    RequestDeleteFromConference: 216,\r\n    RequestRetrieveCall: 217,\r\n    RequestInitiateConference: 220,\r\n    RequestInitiateTransfer: 221,\r\n    RequestCompleteConference: 222,\r\n    RequestCompleteTransfer: 223,\r\n    RequestTransferToIVR: 224,\r\n    RequestSendDtmf: 250,\r\n    RequestAttachUserData: 230,\r\n    RequestDeleteUserData: 231,\r\n    RequestUpdateUserData: 232,\r\n    RequestRegisterAddress: 261,\r\n    RequestUnregisterAddress: 263,\r\n    RequestMonitorCall: 265,\r\n    RequestQueryAgentStatus: 266,\r\n    RequestQueueState: 270,\r\n    RequestSysSettingsUpdate: 300,\r\n    RequestRecordList: 3001,\r\n    // 监控\r\n    RequestMonitorAgentList:3201,\r\n\r\n\r\n    // 响应事件\r\n    EventWelcome: 2,\r\n    EventPong: 3,\r\n    // 坐席状态变更事件\r\n    EventAgentLogin: 580,\r\n    EventAgentLogout: 581,\r\n    EventAgentNotReady: 582,\r\n    EventAgentReady: 583,\r\n    // 电话控制事件\r\n    EventQueued: 501,\r\n    EventRinging: 503,\r\n    EventAbandoned: 504,\r\n    EventDialing: 505,\r\n    EventEstablished: 506,\r\n    EventAttachedDataChanged: 507,\r\n    EventDtmfSent: 508,\r\n    EventHeld: 509,\r\n    EventPartyAdded: 510,\r\n    EventPartyChanged: 511,\r\n    EventPartyDeleted: 512,\r\n    EventRetrieved: 513,\r\n    EventReleased: 515,\r\n    EventThreeWayEstablished: 519,\r\n    EventThreeWayReleased: 518,\r\n    EventOcbNumberInfo: 521,\r\n    EventPartyInfo: 520,\r\n    EventSysSettingsUpdate: 526,\r\n    EventAgentInfo: 588,\r\n    EventRegistered: 572,\r\n    EventUnregistered: 574,\r\n    EventLinkConnected: 590,\r\n    EventLinkDisconnected: 4500,\r\n    EventReportInfo: 2500,\r\n    EventCampaignLoaded: 1500,\r\n    EventCampaignUnloaded: 1501,\r\n    EventDialingStarted: 1502,\r\n    EventDialingStopped: 1503,\r\n    EventUpdateTenantIP: 1504,\r\n    EventCampaignRatio: 1507,\r\n    EventOutboundInfo: 1509,\r\n    EventCampaignLoadByFileName: 1510,\r\n    EventRetrieveCampaign: 1511,\r\n    EventCallLoss: 1512,\r\n    EventCallLossDownCSV: 1513,\r\n    EventCampaignContactDownCSV: 1514,\r\n    EventCampaignLoadByCId: 1515,\r\n    EventDownRecord: 3501,\r\n    EventRecordList: 3502,\r\n    EventTransferMenuList: 3101,\r\n    EventConferenceMenuList: 3102,\r\n    // 监控\r\n    EventMonitorAgentList:3202,\r\n    // 错误事件\r\n    EventError: 9999,\r\n};\r\n","/**\r\n * 坐席把状态至于NotReady的原因\r\n */\r\nexport const NotReadyReason = {\r\n    /*未知*/\r\n    UNKNOWN: -1,\r\n    /*整理中*/\r\n    NEATENING: 0,\r\n    /*通话中*/\r\n    TALKING: 1,\r\n    /*未注册,话机不可用*/\r\n    DEVICE_UNAVAILABLE: 2,\r\n    /*示忙*/\r\n    BUSY: 3,\r\n    /*暂时离开*/\r\n    WALK_AWAY: 4,\r\n    /*休息中*/\r\n    RESTING: 5,\r\n    /*振铃*/\r\n    RINGING: 6\r\n};\r\n","export const PartyRole = {\r\n    /*发起方*/\r\n    ORIGINATION: 1,\r\n    /*目标方*/\r\n    DESTINATION: 2,\r\n    OBSERVER: 5,\r\n    OBSERVABLE: 6\r\n};\r\n","export const PartyState = {\r\n    IDLE: 1,\r\n    DIALING: 2,\r\n    RINGING: 3,\r\n    TALK: 4,\r\n    HELD: 5\r\n};\r\n","export {AgentState} from './AgentState';\r\nexport {CallType} from './CallType';\r\nexport {MessageID} from './MessageID';\r\nexport {PartyRole} from './PartyRole';\r\nexport {PartyState} from './PartyState';\r\nexport {LineState} from './LineState';\r\nexport {DeviceState} from './DeviceState';\r\nexport {NotReadyReason} from './NotReadyReason';\r\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1568948234462\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1568948234572\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1568948234576\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1568948234585\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import './css/common.css';\r\n\r\nimport './assets/js/ie9';\r\nimport EventEmitter from 'eventemitter3';\r\nimport Agent from \"./model/Agent\";\r\nimport CTIConnection from \"./CTIConnection\";\r\nimport PhoneBarComponent from \"./view/PhoneBarComponent\";\r\nimport utils from \"./utils/utils\";\r\nimport DialPad from \"./view/DialPad\";\r\nimport LinePool from \"./model/LinePool\";\r\nimport {CallType, MessageID, LineState, PartyState, DeviceState} from \"./constants\";\r\nimport ThreewayCallBox from \"./view/ThreewayCallBox\";\r\nimport AgentConfig from \"./model/AgentConfig\";\r\nimport Log from \"./utils/Log\";\r\nimport SoftPhoneConnection from \"./SoftPhoneConnection\";\r\n\r\nclass PhoneBar extends EventEmitter {\r\n\r\n    /**\r\n     * 构建电话条及核心业务\r\n     * @param renderTo  页面元素id，渲染到指定元素内，默认追加到body内\r\n     * @param proxyUrl  坐席代理服务地址\r\n     * @param startupSoftPhone 是否自动启动软电话，如果自动启动必须配置SIP服务地址\r\n     * @param sipServerUrl SIP服务地址\r\n     * @param tid  租户ID\r\n     * @param thisDN  分机号\r\n     * @param pstnDN  PSTN号码，可以为null\r\n     * @param agentID  坐席的工号，与分机号一致\r\n     * @param password 密码\r\n     * @param thisQueues  所在坐席组,类型Array数组(格式如：[100018000,100018001])\r\n     * @param defaultQueue  默认/签入坐席组,所在技能组中的其中一个\r\n     * @param tipTime  设置后每隔*分钟会自动提醒某一状态是否超时;默认0不提醒\r\n     * @param maxAfterWorkTime  话后持续设置时间后会自动进入就绪状态;默认0不启用\r\n     * @param autoIdleWhenLogin  登录后自动置闲\r\n     * @param isPhoneTakeAlong  是否手机随行，即手机在线，默认为false\r\n     * @param workPhone  随行手机号\r\n     * @param autoAnswer  自动应答\r\n     * @param onScreenPopup 弹屏事件\r\n     * @param onRinging  呼入振铃事件\r\n     * @param onTalking  接通事件\r\n     * @param onHangup  挂机事件\r\n     * @param onAgentStatusChange 坐席状态变更事件\r\n     * @param onLinkDisconnected 连接被服务器断开事件\r\n     */\r\n    constructor({\r\n                    renderTo = '',\r\n                    proxyUrl = 'ws://127.0.0.1:8787/websocket',\r\n                    startupSoftPhone = false,\r\n                    sipServerUrl = '127.0.0.1:5188',\r\n\r\n                    tid = '',\r\n                    thisDN = '',\r\n                    pstnDN = '',\r\n                    agentID = '',\r\n                    password = '',\r\n                    thisQueues = [],\r\n                    defaultQueue = '',\r\n\r\n                    tipTime = 0,\r\n                    maxAfterWorkTime = 0,\r\n                    autoIdleWhenLogin = true,\r\n                    isPhoneTakeAlong = false,\r\n                    workPhone = '',\r\n                    autoAnswer = false,\r\n\r\n                    onScreenPopup,\r\n                    onRinging,\r\n                    onTalking,\r\n                    onHangup,\r\n                    onAgentStatusChange,\r\n                    onLinkDisconnected\r\n                }) {\r\n        super();\r\n        let options = this.options = arguments[0];\r\n\r\n        // 初始化线路信息\r\n        this.linePool = new LinePool();\r\n        // 初始化坐席配置\r\n        this.agentConfig = new AgentConfig(options);\r\n        // 初始化坐席数据\r\n        this.agent = new Agent(options);\r\n\r\n        // 初始化CTI服务websocket\r\n        this.connection = new CTIConnection({\r\n            wsUrl: options.proxyUrl,\r\n            agent: this.agent,\r\n            agentConfig: this.agentConfig,\r\n            linePool: this.linePool,\r\n        });\r\n        // 初始化创建API\r\n        this.agentApi = this.connection.agentApi;\r\n\r\n        // 与软电话websocket\r\n        this.softPhoneConnection = new SoftPhoneConnection({\r\n            'serverUrl':sipServerUrl,\r\n            'username': agentID, password,\r\n        });\r\n\r\n        // 初始化ui\r\n        this.phoneBarComponent = new PhoneBarComponent();\r\n\r\n        this.getComponent('agentState').on('agentStateSelected', this._onAgentStateSelected.bind(this));\r\n        this.getComponent('openDialPad').on('click', () => {\r\n            this._showDialPad({btnName: '呼叫', onDynamicButtonClick: this.makeCall.bind(this, null)});\r\n        });\r\n        this.getComponent('answer').on('click', () => {\r\n            this.agentApi.answerCall();\r\n        });\r\n        this.getComponent('hangup').on('click', () => {\r\n            this.agentApi.releaseCall();\r\n        });\r\n        this.getComponent('hold').on('click', () => {\r\n            this.agentApi.holdCall();\r\n        });\r\n        this.getComponent('retrieve').on('click', () => {\r\n            this.agentApi.retrieveCall();\r\n        });\r\n        this.getComponent('transfer').on('itemClick', this.onTransferItemClick.bind(this));\r\n        this.getComponent('rollout').on('click', () => {\r\n            this.agentApi.completeTransfer();\r\n        });\r\n        this.getComponent('conference').on('itemClick', this.onConferenceItemClick.bind(this));\r\n\r\n        // 三方通话缓存数据\r\n        this.threewayCallData = [];\r\n\r\n        // 添加监听-------------------\r\n        utils.isFunction(onScreenPopup) && this.on('screenPopup', onScreenPopup);\r\n        utils.isFunction(onRinging) && this.on('ringing', onRinging);\r\n        utils.isFunction(onTalking) && this.on('talking', onTalking);\r\n        utils.isFunction(onHangup) && this.on('hangup', onHangup);\r\n        utils.isFunction(onAgentStatusChange) && this.agent.on('agentStateChange', onAgentStatusChange);\r\n        utils.isFunction(onLinkDisconnected) && this.connection.on('linkDisconnected', onLinkDisconnected);\r\n\r\n        this.eventHandler();\r\n        this.initial();\r\n    }\r\n\r\n    /**\r\n     * 事件处理\r\n     */\r\n    eventHandler() {\r\n        this.connection.on(MessageID.EventThreeWayEstablished.toString(), (data) => {\r\n            this.threewayCallData.push({'phoneNumber': data.otherDN, 'callID': data.callID});\r\n            !this.threewayCallBox || this.threewayCallBox.join(data.otherDN, data.callID);\r\n        });\r\n        this.connection.on(MessageID.EventThreeWayReleased.toString(), (data) => {\r\n            this.threewayCallData = this.threewayCallData.filter((v) => v.phoneNumber !== data.otherDN);\r\n            !this.threewayCallBox || this.threewayCallBox.remove(data.otherDN);\r\n            utils.showMessage(`${data.otherDN} 已退出会议`);\r\n        });\r\n        this.connection.on(MessageID.EventTransferMenuList.toString(), (data) => {\r\n            this.updateTransferMenu(data.menuList);\r\n        });\r\n        this.connection.on(MessageID.EventConferenceMenuList.toString(), (data) => {\r\n            this.updateConferenceMenu(data.menuList);\r\n        });\r\n\r\n        // 监听座席状态定时器\r\n        this.agent.stateTimer.on('change', (seconds, timerValue) => {\r\n            // 更新状态持续时长\r\n            this.getComponent('agentState').setAgentStateTimer(timerValue);\r\n\r\n            let _tipTime = this.agentConfig.tipTime;\r\n            if (_tipTime > 0 && seconds > 0 && seconds % (_tipTime * 60) === 0 && this.agent.state !== Agent.BUSY) {\r\n                let timeTips = `您已保持\"${this.agent.getCurrentStateName()}\"状态${this.agent.stateTimer.format(['小时','分钟','秒'])}`;\r\n                utils.showMessage(timeTips);\r\n            }\r\n\r\n            let _maxAfterWorkTime = this.agentConfig.maxAfterWorkTime;\r\n            if (_maxAfterWorkTime > 0 && seconds >= _maxAfterWorkTime && (seconds - _maxAfterWorkTime) % 3 === 0) {\r\n                //当坐席处于整理状态，当坐席再次呼出的时候，state依然为notready，reason依然是0，此时，如果到了最大整理时长，坐席将会就绪，也就是会二次进线\r\n                if (this.agent.state === Agent.NEATENING) {\r\n                    if (this.linePool.getWorkingLineCount() === 0) {\r\n                        this.agentApi.agentReady();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // 坐席状态变更事件处理函数\r\n        this.agent.on('agentStateChange', (state) => {\r\n            this.getComponent('agentState').changeAgentState(state);\r\n\r\n            if(this.agent.deviceState === DeviceState.REGISTERED) {\r\n                if (state === Agent.READY) {\r\n                    this.phoneBarComponent.changeButtonWhenReady();\r\n                } else if (state === Agent.BUSY || state === Agent.RESTING || state === Agent.NEATENING) {\r\n                    this.phoneBarComponent.changeButtonWhenNotReady();\r\n                } else if (state === Agent.OFFLINE) {\r\n                    this.phoneBarComponent.changeButtonWhenLogout();\r\n                }\r\n            }\r\n        });\r\n        // 设备状态变更事件处理函数\r\n        this.agent.on('deviceStateChange', (deviceState) => {\r\n            if (deviceState === DeviceState.UNREGISTERED) {\r\n                this.phoneBarComponent.changeButtonSipNG();\r\n            } else {\r\n                this.phoneBarComponent.changeButtonSipOK();\r\n            }\r\n        });\r\n        // 线路状态变更事件处理\r\n        this.linePool.on('lineDataChange', (line, callInfo, data) => {\r\n            if (this.linePool.getCurrentLineId() === line.id) {\r\n                if (line.lineState === LineState.IDLE) {\r\n                    this.agentApi.agentNotReady(0);\r\n                    this.phoneBarComponent.changeButtonWhenIdle();\r\n                    this.emit('hangup', callInfo, data);\r\n                } else if (line.lineState === LineState.DIALING) {\r\n                    this.agent.setAgentState(Agent.RINGING);\r\n                    this.phoneBarComponent.changeButtonWhenDialing(callInfo.callType);\r\n                    this.emit('ringing', callInfo, data);\r\n                } else if (line.lineState === LineState.RINGING) {\r\n                    this.agent.setAgentState(Agent.RINGING);\r\n                    this.phoneBarComponent.changeButtonWhenRinging();\r\n                    this.emit('ringing', callInfo, data);\r\n                } else if (line.lineState === LineState.HELD) {\r\n                    this.phoneBarComponent.changeButtonWhenHold();\r\n                } else if (line.lineState === LineState.TALKING) {\r\n                    this.agent.setAgentState(Agent.TALKING);\r\n                    this.phoneBarComponent.changeButtonWhenTalking(callInfo.callType);\r\n                    this.emit('talking', callInfo, data);\r\n                }\r\n            }\r\n\r\n            // 两步转接\r\n            if (callInfo.callType === CallType.CONSULT) {\r\n                // 两步转接第一步主叫方按钮状态：被叫方(被咨询方)坐席应答时按钮状态\r\n                if (data.partyState === PartyState.TALK && data.thisRole === 1 && data.otherRole === 2 &&\r\n                    (this.linePool.isExistLineByCallType(CallType.INBOUND) || this.linePool.isExistLineByCallType(CallType.OUTBOUND))\r\n                ) {\r\n                    this.phoneBarComponent.changeButtonWhenDouble();\r\n                }\r\n                // 两步转接第一步被叫方(被咨询方)按钮状态：坐席应答时的按钮状态\r\n                if (data.partyState === PartyState.TALK && data.thisRole === 2 && data.otherRole === 1) {\r\n                    this.phoneBarComponent.changeButtonWhenDoubleCalled();\r\n                }\r\n                // 两步转被叫方挂断\r\n                if (line.lineState === LineState.IDLE && callInfo.otherDN === data.sendBy && data.thirdDN === data.sendBy) {\r\n                    this.phoneBarComponent.changeButtonWhenDoubleDiscon(); // 转出按钮置灰\r\n                    if (data.sendBy.length === 9) {\r\n                        utils.showMessage('坐席 ' + data.sendBy + ' 已挂断！');\r\n                    } else {\r\n                        utils.showMessage('外线 ' + data.sendBy + ' 已挂断！');\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 两步转接-客户挂断的按钮(需要先判断咨询线路是否还存在)\r\n            if (line.lineState === LineState.IDLE && this.linePool.isExistLineByCallType(CallType.CONSULT) &&\r\n                (callInfo.callType === CallType.INBOUND || callInfo.callType === CallType.OUTBOUND) &&\r\n                callInfo.otherDN === data.sendBy && data.thirdDN !== '') {\r\n                this.phoneBarComponent.changeButtonWhenCustomerDiscon();\r\n                // 转接用的线路提升为默认线路\r\n                this.linePool.setCurrentLineId(this.linePool.getConsultLine().id);\r\n            }\r\n\r\n            if (data.thisRole !== 5 && callInfo.callType !== CallType.INTERNAL && data.attachDatas['variable_thirdPartyRole'] == null) {\r\n                this.emit('screenPopup', line.lineState, callInfo);\r\n            }\r\n        });\r\n    }\r\n\r\n    initial() {\r\n        // 是否自动拉起软电话\r\n        if (this.options.startupSoftPhone === true) {\r\n            // 与软电话建立连接\r\n            this.softPhoneConnection.open();\r\n            // 软电话登录成功后登录电话条\r\n            this.softPhoneConnection.on('loginSuccess', () => this.connection.open());\r\n        } else {\r\n            this.connection.open();\r\n        }\r\n\r\n        // 创建Element\r\n        this._rootNode = this.phoneBarComponent.rootNode;\r\n        if (!this.options.renderTo) {\r\n            document.body.appendChild(this._rootNode);\r\n        } else {\r\n            document.getElementById(this.options.renderTo).appendChild(this._rootNode);\r\n        }\r\n        this.phoneBarComponent.show();\r\n    }\r\n\r\n    /**\r\n     * 根据名称获取组件\r\n     * @param {String} componentName\r\n     */\r\n    getComponent(componentName) {\r\n        if (componentName) {\r\n            return this.phoneBarComponent.getButtonComponent(componentName);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 当坐席状态被选择时的事件处理方法\r\n     * @param action\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    _onAgentStateSelected(action) {\r\n        if (action !== 'logout' && action !== 'login' && this.agent.state === Agent.OFFLINE) {\r\n            utils.showMessage('未登入，不能切换状态');\r\n            return false;\r\n        }\r\n        if (this.linePool.getWorkingLineCount() > 0) {\r\n            utils.showMessage('正在通话，禁止切换状态');\r\n            return false;\r\n        }\r\n\r\n        if (action === 'ready') {\r\n            this.agentApi.agentReady();\r\n        } else if (action === 'login') {\r\n            this.agentApi.agentLogin();\r\n        } else if (action === 'logout') {\r\n            this.agentApi.agentLogout();\r\n        } else if (action === 'busy') {\r\n            this.agentApi.agentNotReady(3);\r\n        } else if (action === 'rest') {\r\n            this.agentApi.agentNotReady(5);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 主动拨打呼叫\r\n     */\r\n    makeCall(phoneNumber) {\r\n        phoneNumber = phoneNumber || this.dialPad.getPhoneNumber();\r\n        if (phoneNumber.length === 4 && this.agent.tid !== '0') phoneNumber = this.agent.tid + phoneNumber;\r\n        let type = (phoneNumber.length === 9 && phoneNumber.charAt(0) === '1') ? 1 : 3;\r\n        this.agentApi.makeCall(phoneNumber, -1, type);\r\n    }\r\n\r\n    /**\r\n     * 更新转移下拉菜单选项\r\n     */\r\n    updateTransferMenu(data) {\r\n        let transferComponent = this.getComponent('transfer');\r\n        // 如果转外线号码清空子选项\r\n        data && data.forEach(val => {\r\n            if (val.type === 'transferOutLine') {\r\n                val['contacts'] = val.menu;\r\n                val.menu = [];\r\n            }\r\n        });\r\n        transferComponent.updateMenuData(data);\r\n    }\r\n\r\n    /**\r\n     * 当转移菜单的选项被选中时的事件处理函数\r\n     * @param val\r\n     */\r\n    onTransferItemClick(val) {\r\n        if (val.type === 'transferOutLine') {\r\n            // 转外线号码\r\n            this._showDialPad({\r\n                'title': '转外线号码',\r\n                'contacts': val.contacts,\r\n                'btnName': '咨询',\r\n                onDynamicButtonClick: this._transferThis.bind(this)\r\n            });\r\n        } else if (val.type === \"doublestep\") {\r\n            // 两步转接\r\n            this.agentApi.consult(val.agentId);\r\n        } else if (val.ivrId) {\r\n            // 按键采集/转IVR\r\n            this.agentApi.singleStepTransfer(`ivr_${val.ivrId}`);\r\n        } else if (val.type === \"singlestep\") {\r\n            // 单步转接\r\n            this.agentApi.singleStepTransfer(val.agentId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新会议下拉菜单选项\r\n     */\r\n    updateConferenceMenu(data) {\r\n        let conferenceComponent = this.getComponent('conference');\r\n        // 会议\r\n        data && data.forEach(val => {\r\n            if (val.type === 'only') {\r\n                val['contacts'] = val.menu;\r\n                val.menu = [];\r\n            }\r\n        });\r\n        conferenceComponent.updateMenuData(data);\r\n    }\r\n\r\n    /**\r\n     * 当会议菜单选项被点击时的事件处理函数\r\n     * @param val 选中菜单的数据\r\n     */\r\n    onConferenceItemClick(val) {\r\n        // 加入自定义电话/多方通话管理\r\n        if (val.type === 'only') {\r\n            if (val.id === 'user_defined') {\r\n                // 加入自定义电话\r\n                this._showDialPad({\r\n                    'title': '加入自定义电话', 'contacts': val.contacts, 'btnName': '会议',\r\n                    onDynamicButtonClick: () => {\r\n                        this.agentApi.threeWayCall(this.dialPad.getPhoneNumber());\r\n                    }\r\n                });\r\n            } else if (val.id === 'conversation') {\r\n                //多方通话管理\r\n                this._showThreewayCallBox();\r\n            }\r\n        } else {\r\n            this.agentApi.threeWayCall(val.agentId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 转接时弹出拨号盘的拨号按钮控制\r\n     * @private\r\n     */\r\n    _transferThis() {\r\n        let phoneNumber = this.dialPad.getPhoneNumber();\r\n        let line = this.linePool.getCurrentLine();\r\n        if (line.lineState === LineState.HELD) {\r\n            this.agentApi.completeTransfer();\r\n            this.dynamicButton.title = '咨询';\r\n            this.dynamicButton.innerText = '咨询';\r\n        } else {\r\n            let thisExten = this.agent.thisDN;\r\n            if (line.phoneNumber === phoneNumber) {\r\n                utils.showMessage('不能转接当前正在接通的号码');\r\n            } else if (phoneNumber === thisExten) {\r\n                utils.showMessage('不能转接自己');\r\n            } else {\r\n                if (line.lineState === LineState.TALKING) {\r\n                    this.agentApi.consult(phoneNumber);\r\n                    // 延迟加载\r\n                    this.dialPad.setPhoneNumber(phoneNumber);\r\n                    this.dynamicButton.title = '转出';\r\n                    this.dynamicButton.innerText = '转出';\r\n                } else {\r\n                    utils.showMessage(\"当前线路未在通话中，不能转接\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示多方通话弹出框\r\n     * @private\r\n     */\r\n    _showThreewayCallBox() {\r\n        // 当存在则先显示此对话框\r\n        if (this.threewayCallBox) {\r\n            this.threewayCallBox.show();\r\n        } else {\r\n            this.threewayCallBox = new ThreewayCallBox({\r\n                title: '多方通话管理',\r\n                onJoinButtonClick: (phoneNumber) => {\r\n                    this.agentApi.threeWayCall(phoneNumber);\r\n                },\r\n                onRemoveCallButtonClick: (callId) => {\r\n                    this.agentApi.releaseThreeWayCall(callId);\r\n                },\r\n                onRemoveAllCallButtonClick: () => {\r\n                    this.agentApi.releaseThreeWayCall('non_moderator');\r\n                }\r\n            });\r\n            // 初始化列表数据\r\n            this.threewayCallData.forEach((callData) => {\r\n                this.threewayCallBox.join(callData.phoneNumber, callData.callID);\r\n            });\r\n            this.threewayCallBox.show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示拨号盘\r\n     * @private\r\n     */\r\n    _showDialPad({\r\n                     title = '拨号',\r\n                     contacts = [],\r\n                     btnName,\r\n                     onDynamicButtonClick = function () {}\r\n                 }) {\r\n        // 当存在则先关闭此对话框\r\n        if (this.dialPad) {\r\n            this.dialPad.destroy();\r\n        }\r\n\r\n        this.dynamicButton = DialPad.createButton({\r\n            btnName: btnName,\r\n            className: 'text-navy dialbtn',\r\n            onClick: onDynamicButtonClick\r\n        });\r\n\r\n        this.dialPad = new DialPad({\r\n            'title': title,\r\n            'contacts': contacts,\r\n            'dynamicButton': this.dynamicButton,\r\n            'onHangupButtonClick': () => {\r\n                this.agentApi.releaseCall();\r\n            }\r\n        });\r\n        this.dialPad.show();\r\n    }\r\n\r\n    /**\r\n     * 该方法会删除页面上显示的电话条元素、绑定的事件和断开与CTI服务器的连接\r\n     */\r\n    destroy() {\r\n        if (this._rootNode && this._rootNode.parentNode) {\r\n            this._rootNode.parentNode.removeChild(this._rootNode);\r\n        }\r\n        if (this.dialPad) {\r\n            this.dialPad.destroy();\r\n        }\r\n        if (this.threewayCallBox) {\r\n            this.threewayCallBox.destroy();\r\n        }\r\n\r\n        this.agentApi.agentLogout();\r\n        this.connection.doClose();\r\n        !this.softPhoneConnection || this.softPhoneConnection.doClose();\r\n    }\r\n\r\n}\r\n\r\n\r\nPhoneBar.utils = utils;\r\nPhoneBar.Log = Log;\r\n\r\n\r\nexport default PhoneBar;\r\n","import EventEmitter from 'eventemitter3';\r\nimport Timer from \"./Timer\";\r\nimport utils from \"../utils/utils\";\r\nimport {AgentState, NotReadyReason, DeviceState} from \"../constants\";\r\n\r\n/**\r\n * 坐席对象\r\n * 更新坐席状态时会触发坐席状态变更事件 'agentStateChange'，可以通过on或addListener监听事件变化\r\n * 'agentStateChange'事件默认抛出2个参数，第一个state当前状态，第二个state修改之前的值\r\n */\r\nclass Agent extends EventEmitter {\r\n\r\n    /**\r\n     * @param tid  租户ID\r\n     * @param thisDN  分机号\r\n     * @param pstnDN  PSTN号码，可以为null\r\n     * @param agentID  坐席的工号，与分机号一致\r\n     * @param thisQueues  所在坐席组,类型Array数组(格式如：[100018000,100018001])\r\n     * @param defaultQueue  默认/签入坐席组,所在技能组中的其中一个\r\n     * @param state  坐席当前状态\r\n     */\r\n    constructor({\r\n                    tid = '',\r\n                    thisDN = '',\r\n                    pstnDN = null,\r\n                    agentID = '',\r\n                    thisQueues = [],\r\n                    defaultQueue = '',\r\n                }) {\r\n        super();\r\n        this._tid = tid;\r\n        this._thisDN = thisDN;\r\n        this._pstnDN = pstnDN;\r\n        this._agentID = agentID;\r\n        this._thisQueues = thisQueues;\r\n        this._defaultQueue = defaultQueue;\r\n\r\n        this._state = Agent.OFFLINE;\r\n        this._deviceState = DeviceState.REGISTERED;\r\n\r\n        this.stateTimer = new Timer().start();\r\n    }\r\n\r\n\r\n    get tid() {\r\n        return this._tid;\r\n    }\r\n\r\n    get thisDN() {\r\n        return this._thisDN;\r\n    }\r\n\r\n    get pstnDN() {\r\n        return this._pstnDN;\r\n    }\r\n\r\n    get agentID() {\r\n        return this._agentID;\r\n    }\r\n\r\n    get thisQueues() {\r\n        return this._thisQueues;\r\n    }\r\n\r\n    get defaultQueue() {\r\n        return this._defaultQueue;\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    get deviceState() {\r\n        return this._deviceState;\r\n    }\r\n\r\n    /**\r\n     * 设置坐席状态\r\n     * @param state\r\n     */\r\n    setAgentState(state) {\r\n        if (this._state !== state) {\r\n            let beforeValue = this._state;\r\n            this._state = state;\r\n            this.stateTimer.restart();\r\n            this.emit('agentStateChange', state, beforeValue);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置话机状态\r\n     * @param deviceState\r\n     */\r\n    setDeviceState(deviceState) {\r\n        if (deviceState === DeviceState.UNREGISTERED) {\r\n            utils.showMessage(\"请登陆SIP话机，并刷新坐席状态\");\r\n        } else if (this._deviceState !== deviceState && deviceState === DeviceState.REGISTERED) {\r\n            utils.showMessage(\"SIP话机注册成功\");\r\n        }\r\n        if (this._deviceState !== deviceState) {\r\n            this._deviceState = deviceState;\r\n            this.emit('deviceStateChange', deviceState);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获得当前状态名称\r\n     * @returns {*}\r\n     */\r\n    getCurrentStateName() {\r\n        return Agent.getStateName(this._state);\r\n    }\r\n\r\n    static getStateName(state) {\r\n        return (Agent.stateDict[state] ?  Agent.stateDict[state].name : '');\r\n    }\r\n\r\n    /**\r\n     * 将服务器状态值转化为本系统可读的值\r\n     *\r\n     * @param rawState\r\n     * @param reason  0 整理；1 通话；2 话机不可用；3 示忙；4 离开；5 休息；6 振铃\r\n     * @returns {string}\r\n     */\r\n    static convertToLocalState(rawState, reason) {\r\n        let state = Agent.OFFLINE;\r\n        if (rawState === AgentState.NOTREADY) {\r\n            switch (reason) {\r\n                case 0:\r\n                    state = Agent.NEATENING;\r\n                    break;\r\n                case 1:\r\n                    state = Agent.TALKING;\r\n                    break;\r\n                case 3:\r\n                    state = Agent.BUSY;\r\n                    break;\r\n                case 5:\r\n                    state = Agent.RESTING;\r\n                    break;\r\n                case 6:\r\n                    state = Agent.RINGING;\r\n                    break;\r\n                default:\r\n                    state = Agent.BUSY;\r\n                    break;\r\n            }\r\n        } else if (rawState === AgentState.READY) {\r\n            state = Agent.READY;\r\n        } else if (rawState === AgentState.OFFLINE) {\r\n            state = Agent.OFFLINE;\r\n        }\r\n        return state;\r\n    }\r\n\r\n    /**\r\n     * 将本地状态值转换为原始服务器状态值\r\n     * @param state\r\n     * @returns {*|null}\r\n     */\r\n    static convertToRawState(state) {\r\n        return Agent.stateDict[state] || null;\r\n    }\r\n\r\n}\r\n\r\n// 坐席本地状态常量\r\nAgent.OFFLINE = 'offline';\r\nAgent.READY = 'ready';\r\nAgent.BUSY = 'busy';\r\nAgent.RESTING = 'resting';\r\nAgent.NEATENING = 'neatening';\r\nAgent.TALKING = 'talking';\r\nAgent.RINGING = 'ringing';\r\n/* 状态字典 */\r\nAgent.stateDict = {\r\n    [Agent.OFFLINE]: {name: '离线', rawState: AgentState.OFFLINE, reason: NotReadyReason.UNKNOWN},\r\n    [Agent.READY]: {name: '就绪', rawState: AgentState.READY, reason: NotReadyReason.UNKNOWN},\r\n    [Agent.BUSY]: {name: '示忙', rawState: AgentState.NOTREADY, reason: NotReadyReason.BUSY},\r\n    [Agent.RESTING]: {name: '休息中', rawState: AgentState.NOTREADY, reason: NotReadyReason.RESTING},\r\n    [Agent.NEATENING]: {name: '整理中', rawState: AgentState.NOTREADY, reason: NotReadyReason.NEATENING},\r\n    [Agent.TALKING]: {name: '通话中', rawState: AgentState.NOTREADY, reason: NotReadyReason.TALKING},\r\n    [Agent.RINGING]: {name: '振铃中', rawState: AgentState.NOTREADY, reason: NotReadyReason.RINGING},\r\n};\r\n\r\nexport default Agent;\r\n","import EventEmitter from 'eventemitter3';\r\n\r\n/**\r\n * 坐席设置纯数据对象\r\n */\r\nclass AgentConfig extends EventEmitter {\r\n\r\n    /**\r\n     * @param tipTime  设置后每隔*分钟会自动提醒某一状态是否超时;默认0不提醒\r\n     * @param maxAfterWorkTime  话后持续设置时间后会自动进入就绪状态;默认0不启用\r\n     * @param autoIdleWhenLogin  登录后自动置闲\r\n     * @param isPhoneTakeAlong  是否手机随行，即手机在线，默认为false\r\n     * @param workPhone  随行手机号\r\n     * @param autoAnswer  自动应答\r\n     */\r\n    constructor({\r\n                    tipTime = 0,\r\n                    maxAfterWorkTime = 0,\r\n                    autoIdleWhenLogin = false,\r\n                    isPhoneTakeAlong = false,\r\n                    workPhone = '',\r\n                    autoAnswer = false\r\n                }) {\r\n        super();\r\n        this._tipTime = tipTime;\r\n        this._maxAfterWorkTime = maxAfterWorkTime;\r\n        this._autoIdleWhenLogin = autoIdleWhenLogin;\r\n        this._isPhoneTakeAlong = isPhoneTakeAlong;\r\n        this._workPhone = workPhone;\r\n        this._autoAnswer = autoAnswer;\r\n    }\r\n\r\n    get tipTime() {\r\n        return this._tipTime;\r\n    }\r\n\r\n    set tipTime(value) {\r\n        if (this._tipTime !== value) {\r\n            this._tipTime = value;\r\n            this.emit('change', this, 'tipTime', value);\r\n        }\r\n    }\r\n\r\n    get maxAfterWorkTime() {\r\n        return this._maxAfterWorkTime;\r\n    }\r\n\r\n    set maxAfterWorkTime(value) {\r\n        if (this._maxAfterWorkTime !== value) {\r\n            this._maxAfterWorkTime = value;\r\n            this.emit('change', this, 'maxAfterWorkTime', value);\r\n        }\r\n    }\r\n\r\n    get autoIdleWhenLogin() {\r\n        return this._autoIdleWhenLogin;\r\n    }\r\n\r\n    set autoIdleWhenLogin(value) {\r\n        if (this._autoIdleWhenLogin !== value) {\r\n            this._autoIdleWhenLogin = value;\r\n            this.emit('change', this, 'autoIdleWhenLogin', value);\r\n        }\r\n    }\r\n\r\n    get isPhoneTakeAlong() {\r\n        return this._isPhoneTakeAlong;\r\n    }\r\n\r\n    set isPhoneTakeAlong(value) {\r\n        if (this._isPhoneTakeAlong !== value) {\r\n            this._isPhoneTakeAlong = value;\r\n            this.emit('change', this, 'isPhoneTakeAlong', value);\r\n        }\r\n    }\r\n\r\n    get workPhone() {\r\n        return this._workPhone;\r\n    }\r\n\r\n    set workPhone(value) {\r\n        if (this._workPhone !== value) {\r\n            this._workPhone = value;\r\n            this.emit('change', this, 'workPhone', value);\r\n        }\r\n    }\r\n\r\n    get autoAnswer() {\r\n        return this._autoAnswer;\r\n    }\r\n\r\n    set autoAnswer(value) {\r\n        if (this._autoAnswer !== value) {\r\n            this._autoAnswer = value;\r\n            this.emit('change', this, 'autoAnswer', value);\r\n        }\r\n    }\r\n\r\n    set(key, value) {\r\n        if (this[`_${key}`] === value) {\r\n            return;\r\n        }\r\n        this[`_${key}`] = value;\r\n        this.emit('change', this, key, value);\r\n    }\r\n}\r\n\r\nexport default AgentConfig;\r\n","import {LineState} from \"../constants\";\r\n\r\n\r\n/**\r\n * 线路信息数据对象\r\n */\r\nclass Line {\r\n\r\n    constructor(id) {\r\n        this._lineState = LineState.IDLE;\r\n        this._phoneNumber = '';\r\n        this._callType = -1;\r\n        this._callId = '';\r\n        this._parties = [];\r\n        this._id = id;\r\n    }\r\n\r\n    reset() {\r\n        this._lineState = LineState.IDLE;\r\n        this._phoneNumber = '';\r\n        this._callType = -1;\r\n        this._callId = '';\r\n        this._parties = [];\r\n    }\r\n\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    set id(value) {\r\n        this._id = value;\r\n    }\r\n\r\n    get lineState() {\r\n        return this._lineState;\r\n    }\r\n\r\n    set lineState(value) {\r\n        this._lineState = value;\r\n    }\r\n\r\n    get phoneNumber() {\r\n        return this._phoneNumber;\r\n    }\r\n\r\n    set phoneNumber(value) {\r\n        this._phoneNumber = value;\r\n    }\r\n\r\n    get callType() {\r\n        return this._callType;\r\n    }\r\n\r\n    set callType(value) {\r\n        this._callType = value;\r\n    }\r\n\r\n    get callId() {\r\n        return this._callId;\r\n    }\r\n\r\n    set callId(value) {\r\n        this._callId = value;\r\n    }\r\n\r\n    get parties() {\r\n        return this._parties;\r\n    }\r\n\r\n    set parties(value) {\r\n        this._parties = value;\r\n    }\r\n}\r\n\r\nexport default Line;\r\n","import Line from \"./Line\";\r\nimport {LineState, CallType, MessageID} from \"../constants\";\r\nimport EventEmitter from 'eventemitter3';\r\n\r\n/**\r\n * 线路池<br/>\r\n * 一个坐席默认2条线路，可以通过构造函数修改初始值大小<br/>\r\n * 0号线路默认为主线路，两步转接会用到第二条线路\r\n */\r\nclass LinePool extends EventEmitter {\r\n\r\n    constructor({\r\n                    maxLines = 2\r\n                } = {}) {\r\n        super();\r\n        this._maxLines = maxLines;\r\n        this._lineId = 0;\r\n        this._lines = new Array(this._maxLines);\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * 初始化线路\r\n     */\r\n    init() {\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            // 数组下标即线路ID\r\n            this._lines[index] = new Line(index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据线路ID获取线路信息\r\n     * @param lineId 线路ID\r\n     * @returns {Line}  当lineId不存在则返回null\r\n     */\r\n    getLine(lineId) {\r\n        if (this.checkLineId(lineId)) {\r\n            for (let index = 0; index < this._maxLines; index++) {\r\n                if (this._lines[index].id === lineId) {\r\n                    return this._lines[index];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 获取一个空闲线路，优先使用当前所在线路\r\n     * @returns {Line}  当线路不存在则返回null\r\n     */\r\n    getIdleLine() {\r\n        if (this.getCurrentLine().lineState === LineState.IDLE) {\r\n            return this.getCurrentLine();\r\n        } else {\r\n            return this.getLineByState(LineState.IDLE);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 通话中的线路ID\r\n     * @returns {Line}  当线路不存在则返回null\r\n     */\r\n    getTalkingLine() {\r\n        return this.getLineByState(LineState.TALKING);\r\n    }\r\n\r\n    /**\r\n     * 根据状态获取线路\r\n     *\r\n     * @param state\r\n     * @returns {Line}  当线路不存在则返回null\r\n     */\r\n    getLineByState(state) {\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            if (this._lines[index].lineState === state) {\r\n                return this._lines[index];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 根据callId获取所在线路\r\n     * @param callId\r\n     * @returns {Line}  当线路不存在则返回null\r\n     */\r\n    getLineByCallId(callId) {\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            if (this._lines[index].callId === callId) {\r\n                return this._lines[index];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 获取咨询线路\r\n     *\r\n     * @returns {Line}  当线路不存在则返回null\r\n     */\r\n    getConsultLine() {\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            if (this._lines[index].callType === CallType.CONSULT) {\r\n                return this._lines[index];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 设置当前线路ID，用于切换主线路\r\n     * @param lineId\r\n     */\r\n    setCurrentLineId(lineId) {\r\n        if (this.checkLineId(lineId)) {\r\n            this._lineId = lineId;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取当前线路\r\n     * @returns {number|*}\r\n     */\r\n    getCurrentLineId() {\r\n        return this._lineId;\r\n    }\r\n\r\n    /**\r\n     * 获取当前线路信息\r\n     * @returns {Line}\r\n     */\r\n    getCurrentLine() {\r\n        return this.getLine(this._lineId);\r\n    }\r\n\r\n    /**\r\n     * 获取当前非空闲线路个数\r\n     * @returns {number}\r\n     */\r\n    getWorkingLineCount() {\r\n        let workingLineCount = 0;\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            if (this._lines[index].lineState !== LineState.IDLE) {\r\n                workingLineCount++;\r\n            }\r\n        }\r\n        return workingLineCount;\r\n    }\r\n\r\n    /**\r\n     * 是否存在该呼叫类型的线路\r\n     * @param callType\r\n     * @returns {boolean}\r\n     */\r\n    isExistLineByCallType(callType) {\r\n        for (let index = 0; index < this._maxLines; index++) {\r\n            if (this._lines[index].callType === callType) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 验证线路是否合法\r\n     * @param lineId\r\n     */\r\n    checkLineId(lineId) {\r\n        return (null != lineId && lineId >= 0 && lineId < this._maxLines);\r\n    }\r\n\r\n    /**\r\n     * 更新线路信息\r\n     *\r\n     * 拨号  MessageID.EventDialing: 505       呼出振铃\r\n     * 振铃  MessageID.EventRinging: 503       呼入振铃\r\n     * 接通  MessageID.EventEstablished: 506\r\n     * 挂断  MessageID.EventReleased: 515\r\n     * 保持  MessageID.EventHeld: 509\r\n     * @param data\r\n     */\r\n    updateLineDate(data) {\r\n        let event = data.messageId;\r\n        let callInfo = this.parseCallInfo(data);\r\n\r\n        let line = this.getLineByCallId(callInfo.callId);\r\n        if (!line) {\r\n            line = this.getCurrentLine();\r\n        }\r\n        // 当呼入振铃或者咨询时，选择一条空闲线路\r\n        if (event === MessageID.EventRinging ||\r\n            (event === MessageID.EventDialing && callInfo.callType === CallType.CONSULT)) {\r\n            line = this.getIdleLine();\r\n        }\r\n\r\n        switch (event) {\r\n            case MessageID.EventReleased:\r\n            case MessageID.EventAbandoned:\r\n                line.reset();\r\n                break;\r\n            case MessageID.EventDialing:\r\n                line.lineState = LineState.DIALING;\r\n                line.phoneNumber = callInfo.phoneNumber;\r\n                line.callType = callInfo.callType;\r\n                line.callId = callInfo.callId;\r\n                break;\r\n            case MessageID.EventRinging:\r\n                line.lineState = LineState.RINGING;\r\n                line.phoneNumber = callInfo.phoneNumber;\r\n                line.callType = callInfo.callType;\r\n                line.callId = callInfo.callId;\r\n                break;\r\n            case MessageID.EventEstablished:\r\n                if (callInfo.callId == null || callInfo.callId === '') break;\r\n                line.lineState = LineState.TALKING;\r\n                line.phoneNumber = callInfo.phoneNumber;\r\n                line.callType = callInfo.callType;\r\n                line.callId = callInfo.callId;\r\n                line.parties = [callInfo.phoneNumber];\r\n                break;\r\n            case MessageID.EventHeld:\r\n                line.lineState = LineState.HELD;\r\n                break;\r\n            case MessageID.EventRetrieved:\r\n                line.lineState = LineState.TALKING;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.emit('lineDataChange', line, callInfo, data);\r\n    }\r\n\r\n    parseCallInfo(data) {\r\n        let callId = data.callID;\r\n        let callType = data.callType;\r\n        let phoneNumber = data.otherDN && data.otherDN !== \"Unknown\" ? data.otherDN : '';\r\n        let attachDatas = data.attachDatas;\r\n        let creationTime = data.creationTime;\r\n        let querue = data.thisQueue;\r\n\r\n        let dnis = data.dnis;//被叫号码\r\n        let callSid = data.auuid;//呼叫唯一标识\r\n        let cityCode = data.cityCode;//归属地\r\n\r\n        return {\r\n            callId,\r\n            callType,\r\n            phoneNumber,\r\n            attachDatas,\r\n            creationTime,\r\n            querue,\r\n            dnis,\r\n            callSid,\r\n            cityCode,\r\n        };\r\n    }\r\n\r\n\r\n    get maxLines() {\r\n        return this._maxLines;\r\n    }\r\n\r\n    set maxLines(value) {\r\n        this._maxLines = value;\r\n    }\r\n\r\n    get lines() {\r\n        return this._lines;\r\n    }\r\n\r\n    set lines(value) {\r\n        this._lines = value;\r\n    }\r\n}\r\n\r\nexport default LinePool;\r\n","import EventEmitter from \"eventemitter3\";\r\n\r\n/**\r\n * 定时器\r\n */\r\nclass Timer extends EventEmitter {\r\n\r\n    constructor(seconds = 0) {\r\n        super();\r\n        this.seconds = seconds;\r\n        this.startTime = new Date().getTime() - seconds * 1000;\r\n        this.unexecutedTimeouts = [];\r\n    }\r\n\r\n    /**\r\n     * 开始一个任务\r\n     *\r\n     * @returns {Timer} 当前对象\r\n     */\r\n    start() {\r\n        this.seconds++;\r\n        this._clearUnexecutedTimeouts();\r\n        // 计算时间误差值\r\n        let offset = new Date().getTime() - (this.startTime + this.seconds * 1000);\r\n        let nextTime = 1000 > offset ? (1000 - offset) : 0;\r\n        this.unexecutedTimeouts.push(setTimeout(() => {\r\n            this.start();\r\n        }, nextTime));\r\n        // 时间执行不阻塞计时任务\r\n        setTimeout(() => {\r\n            this.emit('change', this.seconds, this.format())\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 停止一个任务\r\n     *\r\n     * @returns {Timer} 当前对象\r\n     */\r\n    stop() {\r\n        this._clearUnexecutedTimeouts();\r\n        this.seconds = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 任务重启\r\n     */\r\n    restart(seconds = 0) {\r\n        this.stop();\r\n        // 设置计时开始时间\r\n        this.seconds = seconds;\r\n        this.startTime = new Date().getTime() - seconds * 1000;\r\n        this.start();\r\n    }\r\n\r\n    /**\r\n     * 清除未执行的任务\r\n     *\r\n     * @private\r\n     */\r\n    _clearUnexecutedTimeouts() {\r\n        this.unexecutedTimeouts.forEach((unexecuted) => {\r\n            clearTimeout(unexecuted);\r\n        });\r\n        this.unexecutedTimeouts = [];\r\n    }\r\n\r\n    format(separator = [':', ':', '']) {\r\n        let secondTime = this.seconds;// 秒\r\n        let minuteTime = 0;// 分\r\n        let hourTime = 0;// 小时\r\n        if (secondTime > 60) {\r\n            minuteTime = Math.floor(secondTime / 60);\r\n            secondTime = Math.floor(secondTime % 60);\r\n            if (minuteTime > 60) {\r\n                hourTime = Math.floor(minuteTime / 60);\r\n                minuteTime = Math.floor(minuteTime % 60);\r\n            }\r\n        }\r\n        let result = \"\";\r\n        if (hourTime > 0) {\r\n            result += ((hourTime < 10) ? '0' : '') + hourTime + separator[0];\r\n        }\r\n        result += ((minuteTime < 10) ? '0' : '') + minuteTime + separator[1];\r\n        result += ((secondTime < 10) ? '0' : '') + secondTime + separator[2];\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nexport default Timer;\r\n","import utils from './utils';\r\n\r\n/**\r\n * 检测原生XHR对象是否存在，如果存在刚返回它的新实例；\r\n * 如果不存在，则检测ActiveX对象;由于IE6的XMLHttpRequest对象是通过MSXML库中的一个ActiveX对象实现的。\r\n * 如果两个都不存在，就抛出一个错误。\r\n * @returns {*}\r\n */\r\nfunction getXHR() {\r\n    if (window.XMLHttpRequest) {\r\n        return new XMLHttpRequest();\r\n    } else {\r\n        //遍历IE中不同版本的ActiveX对象\r\n        let versions = ['Microsoft.XMLHTTP', 'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP'];\r\n        for (let i = 0, len = versions.length; i < len; i++) {\r\n            try {\r\n                return new ActiveXObject(versions[i]);\r\n            } catch (ex) {\r\n                //跳过\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction send(options) {\r\n\r\n    let xhr = getXHR();\r\n\r\n    let opt = {\r\n        type: options.type || 'get',\r\n        url: options.url || '',\r\n        async: options.async || true,\r\n        dataType: options.dataType || 'json',\r\n        data: utils.parseParam(options.data) || ''\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n        xhr.open(opt.type, opt.url, opt.async);\r\n\r\n        xhr.onreadystatechange = () => {\r\n            // readyState: 0: init, 1: connect has set up, 2: recive request, 3: request.. , 4: request end, send response\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    var contentType = xhr.getResponseHeader('Content-Type');\r\n                    if (opt.dataType === 'json') {\r\n                        const data = JSON.parse(xhr.responseText);\r\n                        resolve(data);\r\n                    }\r\n                } else {\r\n                    reject(new Error(xhr.status || 'Server is fail.'));\r\n                }\r\n            }\r\n        };\r\n\r\n        xhr.onerror = () => {\r\n            reject(new Error(xhr.status || 'Server is fail.'));\r\n        };\r\n\r\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        xhr.send(opt.data);\r\n\r\n    });\r\n}\r\n\r\nconst Ajax = {\r\n    send\r\n};\r\n\r\nexport default Ajax;\r\n","/**\r\n * 日志打印类，用于用户复写后自定义显示\r\n */\r\nclass Log {\r\n\r\n    static log(message, ...args) {\r\n        console.log(message, ...args);\r\n    }\r\n\r\n    static info(message, ...args) {\r\n        console.info(message, ...args);\r\n    }\r\n\r\n    static error(message, ...args) {\r\n        console.error(message, ...args);\r\n    }\r\n\r\n}\r\n\r\nexport default Log;\r\n","const utils = {\r\n    /**\r\n     * 用户可以覆盖的弹窗方法\r\n     *\r\n     * 缺省插件以alert方式弹出\r\n     * @param msg\r\n     */\r\n    showMessage(msg) {\r\n        alert(msg);\r\n    },\r\n    /**\r\n     * 验证号码是否合法\r\n     * @param num\r\n     * @returns {boolean}\r\n     */\r\n    checkPhoneNumber(num) {\r\n        if (num == null || num.length === 0)\r\n            return false;\r\n        else {\r\n            let validNumber = \"*#0123456789\";\r\n            num = this.trim(num);\r\n            if (num.indexOf(\"ivr_\") === 0) {\r\n                return true;\r\n            }\r\n            for (let i = 0; i < num.length; i++) {\r\n                let c = num.charAt(i);\r\n                if (validNumber.indexOf(c) === -1) {\r\n                    this.showMessage(\"输入的电话号码不符合规范,请检查是否含有空格或者其他非数字字符.\");\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n    /**\r\n     * json转url参数\r\n     * @param param\r\n     * @returns {string}\r\n     */\r\n    parseParam(param) {\r\n        let paramArray = [];\r\n        if (param) {\r\n            Object.keys(param).forEach(function (value) {\r\n                paramArray.push(`${encodeURIComponent(value)}=${encodeURIComponent(param[value])}`)\r\n            });\r\n        }\r\n        return paramArray.join('&');\r\n    },\r\n    isFunction(f) {\r\n        return typeof f === 'function';\r\n    },\r\n    firstUpperCase(str) {\r\n        return str.replace(/( |^)[a-z]/g, (c) => c.toUpperCase());\r\n    },\r\n    trim(str) {\r\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\r\n    }\r\n};\r\n\r\nexport default utils;\r\n","import EventEmitter from 'eventemitter3';\r\nimport utils from \"../utils/utils\";\r\nimport Agent from \"../model/Agent\";\r\n\r\nlet autoIncrementId = 0;\r\n\r\n/**\r\n * 用户状态UI组件\r\n */\r\nclass AgentStateMenu extends EventEmitter {\r\n\r\n    constructor({\r\n                    visible = true,\r\n                    enabled = true,\r\n                    onAgentStateSelected\r\n                } = {}) {\r\n        super();\r\n\r\n        this.id = `agentState-${autoIncrementId++}`;\r\n        this._selectedState = Agent.OFFLINE;\r\n        this._className = 'operation call';\r\n        this._textClassName = 'operation_text';\r\n        this._openClassName = 'open';\r\n\r\n        /*\r\n        * 所有可操作动作\r\n        * */\r\n        this.actionList = [\r\n            {'name': '就绪', 'value': 'ready', 'visible': true},\r\n            {'name': '示忙', 'value': 'busy', 'visible': true},\r\n            {'name': '休息', 'value': 'rest', 'visible': true},\r\n            {'name': '离线', 'value': 'logout', 'visible': false},\r\n            {'name': '登入', 'value': 'login', 'visible': true}\r\n        ];\r\n\r\n        this._visible = visible;\r\n        this._enabled = enabled;\r\n        this._disabledClassName = 'disabled';\r\n\r\n        utils.isFunction(onAgentStateSelected) && this.on('agentStateSelected', onAgentStateSelected);\r\n\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        if (!this.rootNode) {\r\n            let rootNode = this.rootNode = document.createElement('li');\r\n            rootNode.id = this.id;\r\n            rootNode.className = this._className;\r\n\r\n            rootNode.appendChild(this.generateIconNode());\r\n            rootNode.appendChild(this.generateTextNode());\r\n            rootNode.appendChild(this._generateDropdownMenuNode());\r\n\r\n            this._visible || this.hide();\r\n\r\n            rootNode.onclick = (e) => {this._toggleDropdownMenu(e);};\r\n            document.addEventListener('click', this.onBodyClick = this._hideDropdownMenu.bind(this));\r\n        }\r\n    }\r\n\r\n\r\n    generateIconNode() {\r\n        let iconNode = this.agentStateIcon = document.createElement('span');\r\n        iconNode.className = `agentstate-${this._selectedState}`;\r\n        return iconNode;\r\n    }\r\n\r\n    generateTextNode() {\r\n        let textNode = document.createElement('div');\r\n        textNode.className = this._textClassName;\r\n        let agentStateText = this.agentStateText = document.createElement('span');\r\n        agentStateText.innerText = Agent.getStateName(this._selectedState);\r\n        let agentStateTimer = this.agentStateTimer = document.createElement('span');\r\n        agentStateTimer.innerText = '00:00';\r\n        textNode.appendChild(agentStateText);\r\n        textNode.appendChild(agentStateTimer);\r\n\r\n        return textNode;\r\n    }\r\n\r\n    _generateDropdownMenuNode() {\r\n        let menuList = this._dropdownMenuNode = document.createElement('ul');\r\n        menuList.className = 'dropdown-menu';\r\n        menuList.style.display = 'none';\r\n\r\n        this._actionElementMap = {};\r\n        this.actionList.forEach((action) => {\r\n            let menu = document.createElement('li');\r\n            // 默认是否显示\r\n            if (!action.visible) {\r\n                menu.style.display = 'none';\r\n            }\r\n            // 选择后不直接更新显示结果，而是触发agentStateSelected事件，由监听控制修改。\r\n            menu.onclick = () => {this.emit('agentStateSelected', action.value);};\r\n\r\n            let icon = document.createElement('i');\r\n            icon.className = action.value;\r\n            let textSpan = document.createElement('span');\r\n            textSpan.innerText = action.name;\r\n\r\n            menu.appendChild(icon);\r\n            menu.appendChild(textSpan);\r\n            menuList.appendChild(menu);\r\n            this._actionElementMap[action.value] = menu;\r\n        });\r\n\r\n        return menuList;\r\n    }\r\n\r\n    _hideDropdownMenu() {\r\n        let _visible = this._dropdownMenuNode.style.display !== 'none';\r\n        if (_visible) {\r\n            this._dropdownMenuNode.style.display = 'none';\r\n            if (this.rootNode.classList.contains(this._openClassName)){\r\n                this.rootNode.classList.remove(this._openClassName);\r\n            }\r\n        }\r\n    }\r\n    _toggleDropdownMenu(e) {\r\n        let _visible = this._dropdownMenuNode.style.display !== 'none';\r\n        if (_visible) {\r\n            this._hideDropdownMenu();\r\n        } else {\r\n            this._dropdownMenuNode.style.display = 'block';\r\n            this.rootNode.classList.add(this._openClassName);\r\n        }\r\n        e.stopPropagation();\r\n    }\r\n\r\n    setAgentStateTimer(timeValue) {\r\n        this.agentStateTimer.innerText = timeValue;\r\n    }\r\n\r\n    changeAgentState(state) {\r\n        this._selectedState = state;\r\n        this.agentStateIcon.className = `agentstate-${state}`;\r\n        this.agentStateText.innerText = Agent.getStateName(state);\r\n\r\n        // 当点击离线时隐藏离线选项，显示登入选项\r\n        if (state === Agent.OFFLINE) {\r\n            this._actionElementMap['logout'].style.display = 'none';\r\n            this._actionElementMap['login'].style.display = 'block';\r\n        } else if (state === Agent.BUSY) {\r\n            this._actionElementMap['login'].style.display = 'none';\r\n            this._actionElementMap['logout'].style.display = 'block';\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this.rootNode && this.rootNode.parentNode) {\r\n            this.rootNode.parentNode.removeChild(this.rootNode);\r\n        }\r\n\r\n        this.removeAllListeners('agentStateSelected');\r\n        document.removeEventListener('click', this.onBodyClick);\r\n    }\r\n\r\n    show() {\r\n        this.rootNode.style.display = 'block';\r\n        return this;\r\n    }\r\n\r\n    hide() {\r\n        this.rootNode.style.display = 'none';\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default AgentStateMenu;\r\n","import '../css/dialpad.css';\r\nimport utils from \"../utils/utils\";\r\nimport Dialog from \"./Dialog\";\r\n\r\n/**\r\n * 拨号盘UI控件\r\n */\r\nclass DialPad extends Dialog {\r\n\r\n    constructor({\r\n                    title = '',\r\n                    contacts = [],\r\n                    dynamicButton,\r\n                    onHangupButtonClick\r\n                }) {\r\n        super({title});\r\n        this._contacts = contacts;\r\n        this.dynamicButton = dynamicButton;\r\n        this.setContent(this._generateContentNode());\r\n\r\n        utils.isFunction(onHangupButtonClick) && this.on('hangupButtonClick', onHangupButtonClick);\r\n    }\r\n\r\n    /**\r\n     * 生成号码盘内容部分\r\n     * @returns {HTMLDivElement}\r\n     * @private\r\n     */\r\n    _generateContentNode() {\r\n        let contentNode = document.createElement('div');\r\n        contentNode.className = 'dialpad clearfloat';\r\n        contentNode.onselectstart = () => {\r\n            return false\r\n        };\r\n\r\n        if (this._contacts.length > 0) {\r\n            contentNode.appendChild(this._generateContactSelectNode());\r\n        }\r\n        contentNode.appendChild(this._generatePhoneNumberNode());\r\n        contentNode.appendChild(this._generateNumberPadNode());\r\n        contentNode.appendChild(this._generateCallControllerNode());\r\n        return contentNode;\r\n    }\r\n\r\n    /**\r\n     * 生成联系人选择框节点\r\n     * @returns {HTMLSelectElement}\r\n     * @private\r\n     */\r\n    _generateContactSelectNode() {\r\n        let contactSelectNode = document.createElement('select');\r\n        contactSelectNode.className = 'single-line select_width';\r\n        let options = '<option value=\"\">--请选择电话号码--</option>';\r\n        this._contacts.forEach((_contact) => {\r\n            options += `<option value=\"${_contact.agentId}\">${_contact.name}</option>`;\r\n        });\r\n        contactSelectNode.innerHTML = options;\r\n        contactSelectNode.onchange = () => {\r\n            contactSelectNode.value && (this.setPhoneNumber(contactSelectNode.value));\r\n        };\r\n        return contactSelectNode;\r\n    }\r\n\r\n    /**\r\n     * 生成电话号码输入栏\r\n     * @returns {HTMLDivElement}\r\n     * @private\r\n     */\r\n    _generatePhoneNumberNode() {\r\n        let phoneNumberParentNode = document.createElement('div');\r\n        phoneNumberParentNode.className = 'input-group';\r\n\r\n        // 电话号码输入框\r\n        let phoneNumberNode = document.createElement('div');\r\n        phoneNumberNode.className = 'phoneNumber';\r\n        let phoneNumberTextField = this._phoneNumberTextField = document.createElement('input');\r\n        phoneNumberTextField.type = 'text';\r\n        phoneNumberTextField.className = 'number';\r\n        phoneNumberTextField.name = 'phoneNumber';\r\n        phoneNumberNode.appendChild(phoneNumberTextField);\r\n\r\n        // 号码盘显示隐藏切换按钮\r\n        let slideDialPadBtn = document.createElement('button');\r\n        slideDialPadBtn.type = 'button';\r\n        slideDialPadBtn.className = 'cc-btn btn-white slidedialpad';\r\n        slideDialPadBtn.title = '数字键盘';\r\n        slideDialPadBtn.innerHTML = '<i class=\"icon-slidedialpad\"></i>';\r\n        slideDialPadBtn.onclick = this.toggleExpandNumberPad.bind(this);\r\n\r\n        phoneNumberParentNode.appendChild(phoneNumberNode);\r\n        phoneNumberParentNode.appendChild(slideDialPadBtn);\r\n        return phoneNumberParentNode;\r\n    }\r\n\r\n    toggleExpandNumberPad() {\r\n        let _visible = this.numberPadNode.style.display !== \"none\";\r\n        if (_visible) {\r\n            this.numberPadNode.style.display = 'none';\r\n        } else {\r\n            this.numberPadNode.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    setPhoneNumber(phoneNmuber) {\r\n        this._phoneNumberTextField.value = phoneNmuber;\r\n    }\r\n\r\n    getPhoneNumber() {\r\n        return this._phoneNumberTextField.value || '';\r\n    }\r\n\r\n    /**\r\n     * 生成数字号码盘节点\r\n     * @returns {HTMLUListElement}\r\n     * @private\r\n     */\r\n    _generateNumberPadNode() {\r\n        let numberPadNode = this.numberPadNode = document.createElement('ul');\r\n        numberPadNode.className = 'numberpad clearfloat';\r\n        numberPadNode.style.display = 'none';\r\n\r\n        for (let i = 1; i <= 12; i++) {\r\n            let keyButton = document.createElement('li');\r\n            switch (i) {\r\n                case 10:\r\n                    keyButton.innerText = '*';\r\n                    break;\r\n                case 11:\r\n                    keyButton.innerText = 0;\r\n                    break;\r\n                case 12:\r\n                    keyButton.innerText = '#';\r\n                    break;\r\n                default:\r\n                    keyButton.innerText = i;\r\n                    break;\r\n            }\r\n            keyButton.onclick = this._onKeyClick.bind(this, keyButton.innerText);\r\n            numberPadNode.appendChild(keyButton);\r\n        }\r\n\r\n        return numberPadNode;\r\n    }\r\n\r\n    _onKeyClick(number) {\r\n        this.setPhoneNumber(this.getPhoneNumber() + number);\r\n    }\r\n\r\n    /**\r\n     * 生成控制按钮，包含拨号、清除、挂断、咨询、转出\r\n     * @returns {HTMLUListElement}\r\n     * @private\r\n     */\r\n    _generateCallControllerNode() {\r\n        let ctlBtnNode = document.createElement('ul');\r\n        ctlBtnNode.className = 'clearfix';\r\n\r\n        // 清除键\r\n        let removeButton = document.createElement('li');\r\n        removeButton.className = 'remove';\r\n        removeButton.title = '清除';\r\n        removeButton.innerText = '清除';\r\n        removeButton.onclick = () => {\r\n            let phoneNumber = this.getPhoneNumber();\r\n            this.setPhoneNumber(phoneNumber.substr(0, phoneNumber.length - 1));\r\n        };\r\n        removeButton.ondblclick = () => {\r\n            this.setPhoneNumber('')\r\n        };\r\n\r\n        // 挂机键\r\n        let hangupButton = document.createElement('li');\r\n        hangupButton.className = 'hangup';\r\n        hangupButton.title = '挂断';\r\n        hangupButton.innerHTML = '<i class=\"icon-hangup\"></i>';\r\n        hangupButton.onclick = () => {\r\n            this.emit('hangupButtonClick');\r\n        };\r\n\r\n        if (this.dynamicButton) {\r\n            ctlBtnNode.appendChild(this.dynamicButton);\r\n        }\r\n        ctlBtnNode.appendChild(removeButton);\r\n        ctlBtnNode.appendChild(hangupButton);\r\n        return ctlBtnNode;\r\n    }\r\n\r\n    static createButton({\r\n                            id,\r\n                            tagName = 'li',\r\n                            btnName,\r\n                            className,\r\n                            onClick\r\n                        }) {\r\n        let button = document.createElement(tagName);\r\n        id && (button.id = id);\r\n        className && (button.className = className);\r\n        btnName && (button.title = btnName);\r\n        btnName && (button.innerText = btnName);\r\n        utils.isFunction(onClick) && (button.onclick = onClick);\r\n        return button;\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n        this.removeAllListeners('hangupButtonClick');\r\n    }\r\n}\r\n\r\nexport default DialPad;\r\n","import '../css/dialog.css';\r\nimport EventEmitter from 'eventemitter3';\r\n\r\n\r\nconst rootNodeClassName = 'cc-dialog';\r\nlet autoIncrementId = 0;\r\n\r\n/**\r\n * 弹框组件\r\n */\r\nclass Dialog extends EventEmitter {\r\n\r\n    constructor({\r\n                    title = ''\r\n                }) {\r\n        super();\r\n        this.id = `dialog-${autoIncrementId++}`;\r\n        this._title = title;\r\n\r\n        this.diffX=0;\r\n        this.diffY=0;\r\n\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        if (!this.rootNode) {\r\n            let rootNode = this.rootNode = document.createElement('div');\r\n            rootNode.id = this.id;\r\n            rootNode.className = rootNodeClassName;\r\n\r\n            let contentNode = this.contentNode = document.createElement('div');\r\n\r\n            rootNode.appendChild(this._generateTitleNode());\r\n            rootNode.appendChild(this._generateWindowControllerNode());\r\n            rootNode.appendChild(contentNode);\r\n\r\n            this.hide();\r\n            document.body.appendChild(rootNode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 生成头部节点\r\n     * @private\r\n     */\r\n    _generateTitleNode() {\r\n        let titleNode = this._titleNode = document.createElement('div');\r\n        titleNode.className = 'title';\r\n        titleNode.innerText = this._title;\r\n        titleNode.addEventListener('mousedown', this.mouseHandler.bind(this));\r\n        return titleNode;\r\n    }\r\n\r\n    setTitle(title) {\r\n        this._title = title;\r\n        this._titleNode.innerText = title;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 生成窗口控制节点\r\n     * @private\r\n     */\r\n    _generateWindowControllerNode() {\r\n        let ctlWinNode = document.createElement('div');\r\n        ctlWinNode.className = 'ctlwin';\r\n\r\n        let closeBtn = document.createElement('a');\r\n        closeBtn.className = 'close';\r\n        closeBtn.href = 'javascript:void(0);';\r\n        closeBtn.onclick = this.onClose.bind(this);\r\n\r\n        ctlWinNode.appendChild(closeBtn);\r\n        return ctlWinNode;\r\n    }\r\n\r\n    mouseHandler(e){\r\n        switch(e.type){\r\n            case 'mousedown':\r\n                this.draggingObj = e.target.offsetParent;\r\n                if(this.draggingObj != null){\r\n                    this.diffX=e.clientX-this.draggingObj.offsetLeft;\r\n                    this.diffY=e.clientY-this.draggingObj.offsetTop;\r\n                    document.addEventListener('mousemove', this.titleMouseMoveHandler = this.mouseHandler.bind(this));\r\n                    document.addEventListener('mouseup', this.titleMouseUpHandler = this.mouseHandler.bind(this));\r\n                }\r\n                break;\r\n            case 'mousemove':\r\n                if(this.draggingObj){\r\n                    this.draggingObj.style.left=`${e.clientX-this.diffX}px`;\r\n                    this.draggingObj.style.top=`${e.clientY-this.diffY}px`;\r\n                }\r\n                break;\r\n            case 'mouseup':\r\n                document.removeEventListener('mousemove', this.titleMouseMoveHandler);\r\n                document.removeEventListener('mouseup', this.titleMouseUpHandler);\r\n                this.draggingObj =null;\r\n                this.diffX=0;\r\n                this.diffY=0;\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 默认调用destroy方法，子类可以覆盖此方法用于定制自己的关闭事件。\r\n     */\r\n    onClose(){\r\n        this.destroy();\r\n    }\r\n\r\n    setContent(content) {\r\n        if (content instanceof String) {\r\n            this.contentNode.innerHTML = content;\r\n        } else if (content instanceof HTMLElement) {\r\n            this.contentNode.innerHTML = '';\r\n            this.contentNode.appendChild(content);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this.rootNode && this.rootNode.parentNode) {\r\n            this.rootNode.parentNode.removeChild(this.rootNode);\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.rootNode.style.display = 'block';\r\n        return this;\r\n    }\r\n\r\n    hide() {\r\n        this.rootNode.style.display = 'none';\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Dialog;\r\n","import utils from \"../utils/utils\";\r\nimport PhoneBarButton from \"./PhoneBarButton\";\r\n\r\n/**\r\n * 多级菜单组件\r\n * 当菜单被选点击时触发imteClick事件\r\n */\r\nclass MultilevelMenu extends PhoneBarButton {\r\n\r\n    constructor({\r\n                    title = '',\r\n                    iconClassName,\r\n                    visible = true,\r\n                    enabled = false,\r\n                    menuData,\r\n                    onItemClick\r\n                }) {\r\n        super({\r\n            title,\r\n            className: 'operation multilevelMenu',\r\n            iconClassName, visible, enabled});\r\n\r\n        this.menuData = menuData;\r\n        this._openClassName = 'open';\r\n\r\n        this.on('click', (e) => { this._toggleMenu(e)});\r\n        document.addEventListener('click', this.onBodyClick = this._hideMenu.bind(this));\r\n        this.rootNode.onmouseleave = () => {this._hideMenu()};\r\n\r\n        utils.isFunction(onItemClick) && this.on('itemClick', onItemClick);\r\n\r\n        this.rootNode.appendChild(this.generateMenu());\r\n    }\r\n\r\n    generateMenu() {\r\n        let menuNode = this.menuNode = document.createElement('ul');\r\n        menuNode.className = 'menu-list-box';\r\n        menuNode.style.display = \"none\";\r\n        menuNode.appendChild(this.generateSubMenu(this.menuData));\r\n        return menuNode;\r\n    }\r\n\r\n    generateSubMenu(data) {\r\n        let fragment = document.createDocumentFragment();\r\n        data && data.forEach((val) => {\r\n            let menu = document.createElement('li');\r\n            if (val.menu.length > 0) {\r\n                let textNode = document.createElement('h3');\r\n                textNode.innerHTML = `${val.name}<span class=\"list\"></span>`;\r\n\r\n                let subMenu = document.createElement('ul');\r\n                subMenu.appendChild(this.generateSubMenu(val.menu));\r\n\r\n                menu.onmouseenter = () => {subMenu.style.display = 'block';};\r\n                menu.onmouseleave = () => {subMenu.style.display = 'none';};\r\n                menu.appendChild(textNode);\r\n                menu.appendChild(subMenu);\r\n            } else {\r\n                let textNode = document.createElement('h3');\r\n                textNode.onclick = () => {\r\n                    this.emit('itemClick', val);\r\n                };\r\n                textNode.innerText = val.name;\r\n                menu.appendChild(textNode);\r\n            }\r\n            fragment.appendChild(menu);\r\n        });\r\n        return fragment;\r\n    }\r\n\r\n    updateMenuData(menuData) {\r\n        this.menuData = menuData;\r\n        if (this.menuNode && this.menuNode.parentNode) {\r\n            this.menuNode.parentNode.removeChild(this.menuNode);\r\n        }\r\n        this.rootNode.appendChild(this.generateMenu());\r\n    }\r\n\r\n    _hideMenu() {\r\n        let _visible = this.menuNode.style.display !== \"none\";\r\n        if (_visible) {\r\n            this.menuNode.style.display = 'none';\r\n            if (this.rootNode.classList.contains(this._openClassName)){\r\n                this.rootNode.classList.remove(this._openClassName);\r\n            }\r\n        }\r\n    }\r\n    _toggleMenu(e) {\r\n        let _visible = this.menuNode.style.display !== \"none\";\r\n        if (_visible) {\r\n            this._hideMenu();\r\n        } else {\r\n            this.menuNode.style.display = 'block';\r\n            this.rootNode.classList.add(this._openClassName);\r\n        }\r\n        e.stopPropagation();\r\n    }\r\n\r\n\r\n    destroy() {\r\n        super.destroy();\r\n        this.removeAllListeners('itemClick');\r\n    }\r\n}\r\n\r\nexport default MultilevelMenu;\r\n","import EventEmitter from 'eventemitter3';\r\nimport utils from \"../utils/utils\";\r\n\r\nlet autoIncrementId = 0;\r\n\r\nclass PhoneBarButton extends EventEmitter {\r\n\r\n    constructor({\r\n                    title = '',\r\n                    className = 'operation',\r\n                    iconClassName = '',\r\n                    textClassName = 'operation_text',\r\n                    visible = true,\r\n                    enabled = false,\r\n                    onClick\r\n                }) {\r\n        super();\r\n\r\n        this.id = `phoneBarButton-${autoIncrementId++}`;\r\n        this._title = title;\r\n        this._className = className;\r\n        this._iconClassName = iconClassName;\r\n        this._textClassName = textClassName;\r\n\r\n        this._visible = visible;\r\n        this._enabled = enabled;\r\n        this._disabledClassName = 'disabled';\r\n\r\n        utils.isFunction(onClick) && this.on('click', onClick);\r\n\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        if (!this.rootNode) {\r\n            let rootNode = this.rootNode = document.createElement('li');\r\n            rootNode.id = this.id;\r\n            rootNode.className = this._className;\r\n            rootNode.onclick = (e) => {this.emit('click', e)};\r\n\r\n            this._visible || this.hide();\r\n            this._enabled || rootNode.classList.add(this._disabledClassName);\r\n\r\n            rootNode.appendChild(this.generateIconNode());\r\n            rootNode.appendChild(this.generateTextNode());\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 创建按钮图标\r\n     * @returns {HTMLElement}\r\n     */\r\n    generateIconNode() {\r\n        let iconNode = document.createElement('em');\r\n        iconNode.className = this._iconClassName;\r\n        return iconNode;\r\n    }\r\n\r\n    generateTextNode() {\r\n        let textNode = document.createElement('span');\r\n        textNode.className = this._textClassName;\r\n        textNode.innerText = this._title;\r\n        return textNode;\r\n    }\r\n\r\n    destroy() {\r\n        if (this.rootNode && this.rootNode.parentNode) {\r\n            this.rootNode.parentNode.removeChild(this.rootNode);\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this._visible = true;\r\n        this.rootNode.style.display = 'block';\r\n        return this;\r\n    }\r\n\r\n    hide() {\r\n        this._visible = false;\r\n        this.rootNode.style.display = 'none';\r\n        return this;\r\n    }\r\n\r\n    enable() {\r\n        if (!this._enabled) {\r\n            this._enabled = true;\r\n            if (this.rootNode.classList.contains(this._disabledClassName)){\r\n                this.rootNode.classList.remove(this._disabledClassName);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    disable() {\r\n        if (this._enabled) {\r\n            this._enabled = false;\r\n            this.rootNode.classList.add(this._disabledClassName);\r\n        }\r\n        return this;\r\n    }\r\n\r\n\r\n    emit(event, ...args) {\r\n        if (this._enabled) {\r\n            return super.emit(event, ...args);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    setTitle(value) {\r\n        this._title = value;\r\n    }\r\n\r\n    setDisabledClassName(value) {\r\n        this._disabledClassName = value;\r\n    }\r\n}\r\n\r\nexport default PhoneBarButton;\r\n","import '../css/phonebar.css'\r\nimport EventEmitter from 'eventemitter3';\r\nimport PhoneBarButton from \"./PhoneBarButton\";\r\nimport AgentStateMenu from \"./AgentStateMenu\";\r\nimport {CallType} from \"../constants\";\r\nimport MultilevelMenu from \"./MultilevelMenu\";\r\n\r\nlet autoIncrementId = 0;\r\nconst emptyFunction = function () {\r\n};\r\n\r\n/**\r\n * 电话条控件\r\n */\r\nclass PhoneBarComponent extends EventEmitter {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.id = `phoneBar-${autoIncrementId++}`;\r\n        this._rootNodeClassName = 'phonebar-nav';\r\n\r\n        this.buttonList = [\r\n            {\r\n                'name': 'agentState', 'component': new AgentStateMenu(), 'sort': '1'\r\n            },\r\n            {\r\n                'name': 'openDialPad', 'component': new PhoneBarButton({\r\n                    title: '呼出',\r\n                    iconClassName: 'opendialpad'\r\n                }), 'sort': 2\r\n            },\r\n            {\r\n                'name': 'answer', 'component': new PhoneBarButton({\r\n                    title: '应答',\r\n                    iconClassName: 'answer'\r\n                }), 'sort': 3\r\n            },\r\n            {\r\n                'name': 'hangup', 'component': new PhoneBarButton({\r\n                    title: '挂断',\r\n                    iconClassName: 'hangup'\r\n                }), 'sort': 4\r\n            },\r\n            {\r\n                'name': 'hold', 'component': new PhoneBarButton({\r\n                    title: '保持',\r\n                    iconClassName: 'hold'\r\n                }), 'sort': 5\r\n            },\r\n            {\r\n                'name': 'retrieve', 'component': new PhoneBarButton({\r\n                    title: '接回',\r\n                    iconClassName: 'retrieve'\r\n                }), 'sort': 6\r\n            },\r\n            {\r\n                'name': 'transfer', 'component': new MultilevelMenu({\r\n                    title: '转接',\r\n                    iconClassName: 'transfer'\r\n                }), 'sort': 7\r\n            },\r\n            {\r\n                'name': 'rollout', 'component': new PhoneBarButton({\r\n                    title: '转出',\r\n                    iconClassName: 'rollout'\r\n                }), 'sort': 8\r\n            },\r\n            {\r\n                'name': 'conference', 'component': new MultilevelMenu({\r\n                    title: '会议',\r\n                    iconClassName: 'conference'\r\n                }), 'sort': 9\r\n            }\r\n        ];\r\n\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        if (!this.rootNode) {\r\n            let rootNode = this.rootNode = document.createElement('ul');\r\n            rootNode.id = this.id;\r\n            rootNode.className = this._rootNodeClassName;\r\n\r\n            this.buttonList.sort((a, b) => {\r\n                return a.sort - b.sort;\r\n            }).forEach((item) => {\r\n                rootNode.appendChild(item.component.rootNode);\r\n            });\r\n\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据名称获取组件对象\r\n     * @param buttonName  按钮名称\r\n     * @returns {null|Object}  查询结果组件对象或者null\r\n     */\r\n    getButtonComponent(buttonName) {\r\n        for (let i = 0, len = this.buttonList.length; i < len; i++) {\r\n            if (this.buttonList[i].name === buttonName) {\r\n                return this.buttonList[i].component;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * SIP话机不可用\r\n     */\r\n    changeButtonSipNG() {\r\n        console.log('changeButtonSipNG');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * SIP话机注册成功\r\n     */\r\n    changeButtonSipOK() {\r\n        console.log('changeButtonSipOK');\r\n        this.getButtonComponent(\"openDialPad\").enable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 非就绪状态时按钮状态\r\n     */\r\n    changeButtonWhenNotReady() {\r\n        console.log('changeButtonWhenNotReady');\r\n        this.getButtonComponent(\"openDialPad\").enable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 就绪时的按钮状态\r\n     */\r\n    changeButtonWhenReady() {\r\n        console.log('changeButtonWhenReady');\r\n        this.getButtonComponent(\"openDialPad\").enable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 登出时的按钮状态\r\n     */\r\n    changeButtonWhenLogout() {\r\n        console.log('changeButtonWhenLogout');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 呼入时的按钮状态\r\n     */\r\n    changeButtonWhenRinging() {\r\n        console.log('changeButtonWhenRinging');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").enable();\r\n        this.getButtonComponent(\"hangup\").enable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 外呼时的按钮状态\r\n     * @param callType  呼叫类型\r\n     */\r\n    changeButtonWhenDialing(callType) {\r\n        console.log('changeButtonWhenDialing');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"hangup\").enable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n        if (callType === CallType.PREDICT || callType === CallType.MONITOR) {\r\n            this.getButtonComponent(\"answer\").enable();\r\n        } else {\r\n            this.getButtonComponent(\"answer\").disable();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 通话时的按钮状态\r\n     * @param callType\r\n     */\r\n    changeButtonWhenTalking(callType) {\r\n        console.log('changeButtonWhenTalking');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").enable();\r\n        this.getButtonComponent(\"hold\").enable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").enable();\r\n        if (callType === CallType.INTERNAL) {\r\n            this.getButtonComponent(\"transfer\").disable();\r\n        } else if (callType === CallType.CONSULT) {\r\n            this.getButtonComponent(\"hold\").disable();\r\n            this.getButtonComponent(\"transfer\").disable();\r\n            this.getButtonComponent(\"conference\").disable();\r\n        } else {\r\n            this.getButtonComponent(\"transfer\").enable();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 通话保持时的按钮状态\r\n     */\r\n    changeButtonWhenHold() {\r\n        console.log('changeButtonWhenHold');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").enable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    };\r\n\r\n    /**\r\n     * 挂断电话时的按钮状态\r\n     */\r\n    changeButtonWhenIdle() {\r\n        console.log('changeButtonWhenIdle');\r\n        this.getButtonComponent(\"openDialPad\").enable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").disable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").disable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    };\r\n\r\n    /**\r\n     * 两步主叫=>转接时的按钮状态\r\n     */\r\n    changeButtonWhenDouble() {\r\n        console.log('changeButtonWhenDouble');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"answer\").disable();\r\n        this.getButtonComponent(\"hangup\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n        this.getButtonComponent(\"retrieve\").enable();\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"rollout\").enable();\r\n        this.getButtonComponent(\"conference\").disable();\r\n    }\r\n\r\n    /**\r\n     * 两步被叫=>转接时的按钮状态\r\n     */\r\n    changeButtonWhenDoubleCalled() {\r\n        console.log('changeButtonWhenDoubleCalled');\r\n        this.getButtonComponent(\"transfer\").disable();\r\n        this.getButtonComponent(\"hold\").disable();\r\n    }\r\n\r\n    /**\r\n     * 两步转接-挂断的按钮状态\r\n     */\r\n    changeButtonWhenDoubleDiscon() {\r\n        console.log('changeButtonWhenDoubleDiscon');\r\n        this.getButtonComponent(\"rollout\").disable();\r\n    }\r\n\r\n    /**\r\n     * 两步转接-未转出-客户挂断的按钮状态\r\n     */\r\n    changeButtonWhenCustomerDiscon() {\r\n        console.log('changeButtonWhenCustomerDiscon');\r\n        this.getButtonComponent(\"openDialPad\").disable();\r\n        this.getButtonComponent(\"hangup\").enable();\r\n    }\r\n\r\n\r\n    destroy() {\r\n        if (this.rootNode && this.rootNode.parentNode) {\r\n            this.rootNode.parentNode.removeChild(this.rootNode);\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.rootNode.style.display = 'block';\r\n        return this;\r\n    }\r\n\r\n    hide() {\r\n        this.rootNode.style.display = 'none';\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default PhoneBarComponent;\r\n","import utils from \"../utils/utils\";\r\nimport Dialog from \"./Dialog\";\r\n\r\n/**\r\n * 拨号盘UI控件\r\n */\r\nclass ThreewayCallBox extends Dialog {\r\n\r\n    constructor({\r\n                    title = '',\r\n                    onJoinButtonClick,\r\n                    onRemoveCallButtonClick,\r\n                    onRemoveAllCallButtonClick\r\n                }) {\r\n        super({title});\r\n        this.phoneMap = {};\r\n        this.setContent(this._generateContentNode());\r\n\r\n        utils.isFunction(onJoinButtonClick) && this.on('joinButtonClick', onJoinButtonClick);\r\n        utils.isFunction(onRemoveCallButtonClick) && this.on('removeCallButtonClick', onRemoveCallButtonClick);\r\n        utils.isFunction(onRemoveAllCallButtonClick) && this.on('removeAllCallButtonClick', onRemoveAllCallButtonClick);\r\n    }\r\n\r\n    /**\r\n     * 覆盖父类方法，默认隐藏窗口\r\n     */\r\n    onClose() {\r\n        this.hide();\r\n    }\r\n\r\n    /**\r\n     * 生成号码盘内容部分\r\n     * @returns {HTMLDivElement}\r\n     * @private\r\n     */\r\n    _generateContentNode() {\r\n        let box = document.createElement('div');\r\n        box.className = 'threewayCallBox';\r\n\r\n        box.appendChild(this._generatePhoneNumberNode());\r\n\r\n        let thirdPhoneNumberNode = this.thirdPhoneNumberNode = document.createElement('div');\r\n        thirdPhoneNumberNode.className = 'calloption';\r\n        box.appendChild(thirdPhoneNumberNode);\r\n\r\n        box.appendChild(this._generateCallControllerNode());\r\n\r\n        return box;\r\n    }\r\n\r\n\r\n    /**\r\n     * 生成电话号码输入栏\r\n     * @returns {HTMLDivElement}\r\n     * @private\r\n     */\r\n    _generatePhoneNumberNode() {\r\n        let phoneNumberParentNode = document.createElement('div');\r\n        phoneNumberParentNode.className = 'row';\r\n\r\n        // label\r\n        let labelNode = document.createElement('label');\r\n        labelNode.innerText = '加入指定电话或分机号';\r\n\r\n        // 电话号码输入框\r\n        let phoneNumberTextField = this._phoneNumberTextField = document.createElement('input');\r\n        phoneNumberTextField.type = 'text';\r\n        phoneNumberTextField.name = 'inputThreewayDN';\r\n\r\n        // 号码盘显示隐藏切换按钮\r\n        let joinBtn = document.createElement('button');\r\n        joinBtn.type = 'button';\r\n        joinBtn.innerText = '加入';\r\n        joinBtn.title = '加入';\r\n        joinBtn.onclick = () => {this.emit('joinButtonClick', phoneNumberTextField.value)};\r\n\r\n        phoneNumberParentNode.appendChild(labelNode);\r\n        phoneNumberParentNode.appendChild(phoneNumberTextField);\r\n        phoneNumberParentNode.appendChild(joinBtn);\r\n        return phoneNumberParentNode;\r\n    }\r\n\r\n    /**\r\n     * 加入会议列表\r\n     * @param phoneNumber\r\n     * @param callID\r\n     */\r\n    join(phoneNumber, callID) {\r\n        // 只有会议列表中不存在才添加\r\n        if (!this.phoneMap[phoneNumber]) {\r\n            let labelNode = document.createElement('label');\r\n            let checkbox = document.createElement('input');\r\n            checkbox.type = 'checkbox';\r\n            checkbox.value = callID;\r\n            labelNode.appendChild(checkbox);\r\n            labelNode.appendChild(document.createTextNode(phoneNumber));\r\n            this.phoneMap[phoneNumber] = labelNode;\r\n            this.thirdPhoneNumberNode.appendChild(labelNode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 踢出会议列表\r\n     * @param phoneNumber\r\n     */\r\n    remove(phoneNumber) {\r\n        let phoneNode = this.phoneMap[phoneNumber];\r\n        if (phoneNode && phoneNode.parentNode) {\r\n            phoneNode.parentNode.removeChild(phoneNode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 生成控制按钮，包含全选、踢出选中、踢出所有、关闭\r\n     * @returns {HTMLDivElement}\r\n     * @private\r\n     */\r\n    _generateCallControllerNode() {\r\n        let ctlBtnNode = document.createElement('div');\r\n        ctlBtnNode.className = 'row';\r\n\r\n        let leftBtnsNode = document.createElement('div');\r\n        leftBtnsNode.className = 'pull-left';\r\n        // 全选\r\n        let checkAllLabel = document.createElement('label');\r\n        let checkAllButton = this._checkAllButton = document.createElement('input');\r\n        checkAllButton.type = 'checkbox';\r\n        checkAllButton.className = 'checkAll';\r\n        checkAllButton.onchange = () => {\r\n            if (checkAllButton.checked === true) {\r\n                Object.keys(this.phoneMap).forEach((key) => {\r\n                    this.phoneMap[key].firstElementChild.checked = true;\r\n                });\r\n            } else {\r\n                Object.keys(this.phoneMap).forEach((key) => {\r\n                    this.phoneMap[key].firstElementChild.checked = false;\r\n                });\r\n            }\r\n        };\r\n        checkAllLabel.appendChild(checkAllButton);\r\n        checkAllLabel.appendChild(document.createTextNode('全选'));\r\n        leftBtnsNode.appendChild(checkAllLabel);\r\n\r\n        let rightBtnsNode = document.createElement('div');\r\n        rightBtnsNode.className = 'pull-right';\r\n        //踢出选中通话\r\n        let removeSelectedButton = document.createElement('button');\r\n        removeSelectedButton.type = 'button';\r\n        removeSelectedButton.innerText = '踢出选中通话';\r\n        removeSelectedButton.onclick = () => {\r\n            Object.keys(this.phoneMap).forEach((key) => {\r\n                if (this.phoneMap[key] && this.phoneMap[key].firstElementChild.checked) {\r\n                    this.emit('removeCallButtonClick', this.phoneMap[key].firstElementChild.value);\r\n                }\r\n            });\r\n        };\r\n        //踢出全部通话\r\n        let removeAllButton = document.createElement('button');\r\n        removeAllButton.type = 'button';\r\n        removeAllButton.innerText = '踢出全部通话';\r\n        removeAllButton.onclick = () => {this.emit('removeAllCallButtonClick')};\r\n        //关闭\r\n        let closeButton = document.createElement('button');\r\n        closeButton.type = 'button';\r\n        closeButton.innerText = '关闭';\r\n        closeButton.onclick = () => {this.onClose()};\r\n        rightBtnsNode.appendChild(removeSelectedButton);\r\n        rightBtnsNode.appendChild(removeAllButton);\r\n        rightBtnsNode.appendChild(closeButton);\r\n\r\n\r\n        ctlBtnNode.appendChild(leftBtnsNode);\r\n        ctlBtnNode.appendChild(rightBtnsNode);\r\n        return ctlBtnNode;\r\n    }\r\n\r\n\r\n    destroy() {\r\n        super.destroy();\r\n\r\n        this.removeAllListeners('joinButtonClick');\r\n        this.removeAllListeners('removeCallButtonClick');\r\n        this.removeAllListeners('removeAllCallButtonClick');\r\n    }\r\n}\r\n\r\nexport default ThreewayCallBox;\r\n"],"sourceRoot":""}